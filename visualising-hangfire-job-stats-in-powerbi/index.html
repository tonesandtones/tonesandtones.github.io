<!DOCTYPE html><html lang="en" prefix="og: http://ogp.me/ns#"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.57b5bc196a71aeb7d3d7.css">@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:300;src:local("Open Sans Light "),local("Open Sans-Light"),url(/static/open-sans-latin-300-60c866748ff15f5b347fdba64596b1b1.woff2) format("woff2"),url(/static/open-sans-latin-300-521d17bc9f3526c690e8ada6eee55bec.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:300;src:local("Open Sans Light italic"),local("Open Sans-Lightitalic"),url(/static/open-sans-latin-300italic-06bbd3188b34820cd83a0e0b3d0a6f57.woff2) format("woff2"),url(/static/open-sans-latin-300italic-8a648ff38ded89ea15916e84529d62d3.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:400;src:local("Open Sans Regular "),local("Open Sans-Regular"),url(/static/open-sans-latin-400-cffb686d7d2f4682df8342bd4d276e09.woff2) format("woff2"),url(/static/open-sans-latin-400-bf2d0783515b7d75c35bde69e01b3135.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:400;src:local("Open Sans Regular italic"),local("Open Sans-Regularitalic"),url(/static/open-sans-latin-400italic-987032ea5d57c93d8da215678eae3b86.woff2) format("woff2"),url(/static/open-sans-latin-400italic-db70d0b9cb27ada1a260a2b35e756b8b.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:600;src:local("Open Sans SemiBold "),local("Open Sans-SemiBold"),url(/static/open-sans-latin-600-223a277bd88d8a90c8cdf24cda0ad5f5.woff2) format("woff2"),url(/static/open-sans-latin-600-1cd5320f8937d337b61d5117cf9d7b28.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:600;src:local("Open Sans SemiBold italic"),local("Open Sans-SemiBolditalic"),url(/static/open-sans-latin-600italic-4950a7205f0b5cefe41fc03ac346e236.woff2) format("woff2"),url(/static/open-sans-latin-600italic-318ea1ada4102c0704a0637228dcad03.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:700;src:local("Open Sans Bold "),local("Open Sans-Bold"),url(/static/open-sans-latin-700-d08c09f2f169f4a6edbcf8b8d1636cb4.woff2) format("woff2"),url(/static/open-sans-latin-700-623e3205570002af47fc2b88f9335d19.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:700;src:local("Open Sans Bold italic"),local("Open Sans-Bolditalic"),url(/static/open-sans-latin-700italic-c02f5da6e82e1efe0b45841bfd49ce37.woff2) format("woff2"),url(/static/open-sans-latin-700italic-72e19cbb0e38c6773a7751156752cec4.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:800;src:local("Open Sans ExtraBold "),local("Open Sans-ExtraBold"),url(/static/open-sans-latin-800-aaeffaf205b9bbb09920089a14dbe9e8.woff2) format("woff2"),url(/static/open-sans-latin-800-c6aa0c4a601fb6ac66f8253fa594dff5.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:800;src:local("Open Sans ExtraBold italic"),local("Open Sans-ExtraBolditalic"),url(/static/open-sans-latin-800italic-6b3973ffe02bb6a8be0f8453506ec032.woff2) format("woff2"),url(/static/open-sans-latin-800italic-79b58175343190550489efe46a7f1138.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#000;text-shadow:0 1px #fff}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}.token.punctuation{color:#999}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.15.28"/><style id="__jsx-4192424678">.item.jsx-4192424678,.showItem.jsx-4192424678{background:transparent;-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.item.jsx-4192424678 a,.showItem.jsx-4192424678 a{padding:10px;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.item.jsx-4192424678 svg,.showItem.jsx-4192424678 svg{margin:0 5px 0 0;opacity:0.3;}
.itemList .hideItem{display:none;}
@media screen and (min-width:1024px){.item.jsx-4192424678 a{color:#3e3e3c;padding:10px;-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;border-radius:5px;}.homepage:not(.fixed) .item.jsx-4192424678 a{color:#ffffff;}.item.jsx-4192424678 a:hover{color:#709425;background:rgba(255,255,255,0.4);}.item.jsx-4192424678 svg{-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;}.item.jsx-4192424678:hover svg{fill:#709425;opacity:1;}.hero .item.jsx-4192424678:hover svg svg{fill:green;}.showItem.jsx-4192424678{display:none;}.hiddenItem.jsx-4192424678{text-align:left;padding:5px;}.hiddenItem.jsx-4192424678 a.inHiddenItem{color:#3e3e3c;}.hiddenItem.jsx-4192424678 a.inHiddenItem:hover{color:#709425;}}</style><style id="__jsx-1665230755">.menu.jsx-1665230755{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#ffffff;bottom:0;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;left:0;max-height:50px;padding:0 10px;position:fixed;width:100%;z-index:1;-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;}
.itemList.jsx-1665230755{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;list-style:none;margin:0;padding:0;position:relative;width:100%;}
@media screen and (max-width:1023px){.menu.jsx-1665230755::after{position:absolute;content:"";left:20px;right:20px;top:0;height:1px;background:#709425;}.menu.open.jsx-1665230755{padding:20px;}.homepage:not(.fixed) .menu.jsx-1665230755{bottom:-100px;}}
@media screen and (min-width:1024px){.menu.jsx-1665230755{border-top:none;background:transparent;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding-left:50px;-webkit-transition:none;-webkit-transition:none;transition:none;}.itemList.jsx-1665230755{-webkit-box-pack:end;-ms-flex-pack:end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding:0;}.hiddenItemList.jsx-1665230755{list-style:none;margin:0;position:absolute;background:#ffffff;border:1px solid #ecebea;top:48px;right:10px;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;padding:20px;border-radius:5px;border-top-right-radius:0;}.hiddenItemList.jsx-1665230755:after{content:"";background:#ffffff;z-index:10;top:-10px;right:-1px;width:44px;height:10px;position:absolute;border-left:1px solid #ecebea;border-right:1px solid #ecebea;}.homepage:not(.fixed) .hiddenItemList.jsx-1665230755{border:1px solid transparent;background:rgba(255,255,255,0.9);top:50px;}.homepage:not(.fixed) .hiddenItemList.jsx-1665230755:after{top:-11px;border-left:1px solid transparent;border-right:1px solid transparent;background:rgba(255,255,255,0.9);}.fixed .hiddenItemList.jsx-1665230755{top:44px;}}</style><style id="__jsx-3380372682">.header.jsx-3380372682{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#ffffff;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:80px;position:relative;top:0;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.header.jsx-3380372682 a.logoType{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:"column";-webkit-flex-direction:"column";-ms-flex-direction:"column";flex-direction:"column";color:#3e3e3c;}
.header.jsx-3380372682 a.logoType .logo.jsx-3380372682{-ms-flex-negative:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}
.header.homepage.jsx-3380372682{position:absolute;background-color:transparent;height:100px;;}
h1.jsx-3380372682{font-size:1.22em;font-weight:400;margin:0 0 5px 0;}
h2.jsx-3380372682{font-weight:400;font-size:.72em;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;margin:0;}
.logo.jsx-3380372682{border-radius:65% 75%;border:1px solid #eee;display:inline-block;height:44px;margin:0 20px 0 0;overflow:hidden;width:44px;-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;}
.homepage.jsx-3380372682 .logo.jsx-3380372682{height:60px;width:60px;}
.logo.jsx-3380372682 img.jsx-3380372682{width:100%;}
.sensor.jsx-3380372682{display:block;position:absolute;bottom:0;z-index:1;left:0;right:0;height:1px;top:80px;}
@media screen and (min-width:600px){.header.jsx-3380372682{padding:40px;}.header.homepage.jsx-3380372682{height:100px;;}}
@media screen and (max-width:1023px){.header.homepage.jsx-3380372682 .logo.jsx-3380372682{border:none;}.header.homepage.jsx-3380372682 a.logoType,.header.homepage.jsx-3380372682 h1.jsx-3380372682{color:#ffffff;}.header.homepage.jsx-3380372682 h2.jsx-3380372682{color:#dddbda;}}
@media screen and (min-width:1024px){.header.jsx-3380372682{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#ffffff;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:absolute;top:0;width:100%;-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-transition:padding 0.5s;-webkit-transition:padding 0.5s;transition:padding 0.5s;}.header.fixed.jsx-3380372682{height:50px;;background-color:#ffffff;left:0;padding:0 20px;position:fixed;top:0;width:100%;z-index:1;}.header.fixed.jsx-3380372682 h1.jsx-3380372682{margin:0 0 2px 0;}.header.fixed.jsx-3380372682 h2.jsx-3380372682{display:none;}.header.homepage.jsx-3380372682:not(.fixed) a.logoType,.header.homepage.jsx-3380372682:not(.fixed) h1.jsx-3380372682{color:#ffffff;}.header.homepage.jsx-3380372682:not(.fixed) h2.jsx-3380372682{color:#dddbda;}.header.jsx-3380372682 a.logoType{text-align:left;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-ms-flex-negative:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:auto;}.logo.jsx-3380372682{margin:0 20px 0 0;}.fixed.jsx-3380372682 .logo.jsx-3380372682{height:36px;width:36px;}.header.homepage.jsx-3380372682:not(.fixed) .logo.jsx-3380372682{border:none;}h2.jsx-3380372682{-webkit-animation-duration:0.5s;-webkit-animation-duration:0.5s;animation-duration:0.5s;-webkit-animation-name:h2Entry;-webkit-animation-name:h2Entry-jsx-3380372682;animation-name:h2Entry-jsx-3380372682;}@-webkit-keyframes h2Entry{from.jsx-3380372682{opacity:0;}to.jsx-3380372682{opacity:1;}}@-webkit-keyframes h2Entry-jsx-3380372682{from{opacity:0;}to{opacity:1;}}@keyframes h2Entry-jsx-3380372682{from{opacity:0;}to{opacity:1;}}}</style><style id="__jsx-3317733201">h1.jsx-3317733201{font-size:1.98em;margin:0 0 40px 0;-webkit-animation-name:headlineEntry;-webkit-animation-name:headlineEntry-jsx-3317733201;animation-name:headlineEntry-jsx-3317733201;-webkit-animation-duration:1s;-webkit-animation-duration:1s;animation-duration:1s;}
h1.jsx-3317733201 span{font-weight:400;display:block;font-size:0.5em;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;margin:0 0 5px 0;}
h1.jsx-3317733201 svg{height:0.75em;fill:#709425;}
@-webkit-keyframes headlineEntry{from.jsx-3317733201{opacity:0.5;}to.jsx-3317733201{opacity:1;}}
@-webkit-keyframes headlineEntry-jsx-3317733201{from{opacity:0.5;}to{opacity:1;}}
@keyframes headlineEntry-jsx-3317733201{from{opacity:0.5;}to{opacity:1;}}
@media screen and (min-width:600px){h1.jsx-3317733201{font-size:calc(1.8em * 1.2);}}
@media screen and (min-width:1024px){h1.jsx-3317733201{font-size:calc(1.8em * 1.4);}}</style><style id="__jsx-2703193364">.meta.jsx-2703193364{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;font-size:0.8em;margin:20px 0;background:transparent;}
.meta.jsx-2703193364 svg{fill:#709425;margin:0 5px 0 0;}
.meta.jsx-2703193364 span.jsx-2703193364{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;text-transform:uppercase;margin:5px 10px 5px 0;}
@media screen and (min-width:600px){.meta.jsx-2703193364{margin:calc(20px * 1.5) 0 20px;}}</style><style id="__jsx-2950057177">.bodytext.jsx-2950057177{-webkit-animation-name:bodytextEntry;-webkit-animation-name:bodytextEntry-jsx-2950057177;animation-name:bodytextEntry-jsx-2950057177;-webkit-animation-duration:1s;-webkit-animation-duration:1s;animation-duration:1s;}
.bodytext.jsx-2950057177 h2,.bodytext.jsx-2950057177 h3{margin:1.5em 0 1em;}
.bodytext.jsx-2950057177 h2{line-height:1.2;font-size:1.53em;}
.bodytext.jsx-2950057177 h3{font-size:1.22em;line-height:1.3;}
.bodytext.jsx-2950057177 blockquote{font-style:italic;font-size:1.22em;margin:0 2em;}
.bodytext.jsx-2950057177 p{font-size:1em;line-height:1.6;margin:0 0 1.5em;}
.bodytext.jsx-2950057177 ul{list-style:circle;padding:0 0 0 2em;}
.bodytext.jsx-2950057177 ol{padding:0 0 0 2em;}
.bodytext.jsx-2950057177 li{margin:0.7em 0;line-height:1.5;}
.bodytext.jsx-2950057177 a{font-weight:600;color:#709425;-webkit-text-decoration:underline;text-decoration:underline;}
.bodytext.jsx-2950057177 a.gatsby-resp-image-link{border:0;display:block;margin:1.5em 0 0.5em 0;border-radius:10px;overflow:hidden;border:1px solid #ecebea;}
.bodytext.jsx-2950057177 span.caption{font-size:.86em;font-style:italic;display:table;margin:0 auto;}
@-webkit-keyframes bodytextEntry{from.jsx-2950057177{opacity:0;}to.jsx-2950057177{opacity:1;}}
@-webkit-keyframes bodytextEntry-jsx-2950057177{from{opacity:0;}to{opacity:1;}}
@keyframes bodytextEntry-jsx-2950057177{from{opacity:0;}to{opacity:1;}}</style><style id="__jsx-646394116">.author.jsx-646394116{margin:40px 0;padding:40px 0;border-top:1px solid #ecebea;border-bottom:1px solid #ecebea;}
.avatar.jsx-646394116{float:left;border-radius:65% 75%;border:1px solid #ecebea;display:inline-block;height:50px;margin:5px 20px 0 0;overflow:hidden;width:50px;}
.avatar.jsx-646394116 img.jsx-646394116{width:100%;}
.note.jsx-646394116{font-size:0.9em;line-height:1.6;}
@media screen and (min-width:600px){.author.jsx-646394116{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.avatar.jsx-646394116{-webkit-box-flex:0;-ms-flex:0 0 auto;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}}</style><style id="__jsx-126278577">.links.jsx-126278577{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:0 20px 40px;border-bottom:1px solid #ecebea;margin:0 0 40px 0;}
.links.jsx-126278577 a{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}
.links.jsx-126278577 a:nth-child(2){margin:20px 0 0;}
.links.jsx-126278577 svg{fill:orange;width:20px;height:20px;-ms-flex-negative:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-flex:0;-ms-flex-positive:0;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;margin:0 20px 0 0;}
h4.jsx-126278577{font-weight:600;margin:0;font-size:1.1em;}
time.jsx-126278577{color:#969492;display:block;font-weight:400;font-size:0.8em;margin-top:0.5em;}
@media screen and (min-width:1024px){.links.jsx-126278577{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.links.jsx-126278577 a{-ms-flex-preferred-size:50%;-webkit-flex-basis:50%;-ms-flex-preferred-size:50%;flex-basis:50%;}.links.jsx-126278577 a:nth-child(2){margin:0;}.links.jsx-126278577 svg{-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;margin:0 10px 0 0;}@media (hover:hover){.links.jsx-126278577 a:hover svg{-webkit-transform:scale(1.5);-webkit-transform:scale(1.5);-ms-transform:scale(1.5);transform:scale(1.5);}}}</style><style id="__jsx-4024790327">.article.jsx-4024790327{padding:20px;margin:0 auto;}
@media screen and (min-width:600px){.article.jsx-4024790327{padding:calc(20px) calc(20px * 2);max-width:650px;}}
@media screen and (min-width:1024px){.article.jsx-4024790327{padding:calc(20px * 2 + 90px) 0 calc(20px * 2);max-width:700px;}}</style><style id="__jsx-2880174640">.footer.jsx-2880174640{background:#ffffff;padding:20px;padding-top:0;padding-bottom:120px;}
.footer.jsx-2880174640 ul{list-style:none;text-align:center;padding:0;}
.footer.jsx-2880174640 ul li{color:#969492;font-size:.72em;padding:2px 10px;position:relative;display:inline-block;}
.footer.jsx-2880174640 ul li::after{content:"•";position:absolute;right:calc(5px * -1);}
.footer.jsx-2880174640 ul li:last-child::after{content:"";}
@media screen and (min-width:1024px){.footer.jsx-2880174640{padding:0 1em 1.5em;}}</style><style id="__jsx-3017011455">main.jsx-3017011455{min-height:80vh;}</style><style id="__jsx-3148707342">html{-webkit-box-sizing:border-box;box-sizing:border-box;}
*,*:after,*:before{-webkit-box-sizing:inherit;box-sizing:inherit;margin:0;padding:0;}
body{font-family:Arial, sans-serif;;}
h1,h2,h3{font-weight:400;line-height:1.1;-webkit-letter-spacing:-0.03em;-moz-letter-spacing:-0.03em;-ms-letter-spacing:-0.03em;letter-spacing:-0.03em;margin:0;}
h1{-webkit-letter-spacing:-0.04em;-moz-letter-spacing:-0.04em;-ms-letter-spacing:-0.04em;letter-spacing:-0.04em;}
p{margin:0;}
strong{font-weight:400;}
a{-webkit-text-decoration:none;text-decoration:none;color:#666;}
main{width:auto;display:block;}</style><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"/><title data-react-helmet="true">Visualising Hangfire job stats in Power BI - Anthony Attwood</title><meta data-react-helmet="true" name="description" content="Anthony Attwood personal blog"/><meta data-react-helmet="true" property="og:url" content="https://tonesandtones.github.ioundefined/visualising-hangfire-job-stats-in-powerbi/"/><meta data-react-helmet="true" property="og:title" content="Visualising Hangfire job stats in Power BI - Anthony Attwood"/><meta data-react-helmet="true" property="og:description" content="Anthony Attwood personal blog"/><meta data-react-helmet="true" property="og:image" content="[object Object]"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="fb:app_id" content=""/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="tonesattwood"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#666"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-8e4f872f53c8fce41965.js"/><link as="script" rel="preload" href="/app-1e1babc26f286c18c6f3.js"/><link as="script" rel="preload" href="/commons-e2b9e4157a7531f6338b.js"/><link as="script" rel="preload" href="/styles-9fcd3eb13f695005ac07.js"/><link as="script" rel="preload" href="/component---src-templates-post-template-js-48724be4b07ab3351423.js"/><link as="fetch" rel="preload" href="/page-data/visualising-hangfire-job-stats-in-powerbi/page-data.json" crossorigin="anonymous"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#D0E0D8"/><meta name="apple-mobile-web-app-title" content="Lazywill"/><link rel="apple-touch-icon" href="/icons/apple-icon-57x57.png" sizes="57x57"/><link rel="apple-touch-icon" href="/icons/apple-icon-60x60.png" sizes="60x60"/><link rel="apple-touch-icon" href="/icons/apple-icon-72x72.png" sizes="72x72"/><link rel="apple-touch-icon" href="/icons/apple-icon-76x76.png" sizes="76x76"/><link rel="apple-touch-icon" href="/icons/apple-icon-114x114.png" sizes="114x114"/><link rel="apple-touch-icon" href="/icons/apple-icon-120x120.png" sizes="120x120"/><link rel="apple-touch-icon" href="/icons/apple-icon-144x144.png" sizes="144x144"/><link rel="apple-touch-icon" href="/icons/apple-icon-152x152.png" sizes="152x152"/><link rel="apple-touch-icon" href="/icons/apple-icon-180x180.png" sizes="180x180"/><link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><header class="jsx-3380372682 header  "><a class="logoType" href="/"><div class="jsx-3380372682 logo"><img src="/static/avatar-1e6131826211961d584792171e4f1121.jpg" alt="Anthony Attwood - Punny Blog" class="jsx-3380372682"/></div><div class="jsx-3380372682 type"><h1 class="jsx-3380372682">anthony attwood</h1><h2 class="jsx-3380372682">&lt;&lt; punny blog name goes here &gt;&gt;</h2></div></a><nav rel="js-menu" class="jsx-1665230755 menu "><ul class="jsx-1665230755 itemList"><li class="jsx-4192424678 item"><a class="" data-slug="/" href="/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg> <!-- -->Home</a></li><li class="jsx-4192424678 item"><a class="" data-slug="/category/" href="/category/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"></path></svg> <!-- -->Categories</a></li><li class="jsx-4192424678 item"><a class="" data-slug="/search/" href="/search/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg> <!-- -->Search</a></li><li class="jsx-4192424678 item"><a class="" data-slug="/about/" href="/about/"> <!-- -->About</a></li></ul></nav></header><div class="jsx-3380372682 sensor"></div><main class="jsx-3017011455 jsx-3148707342"><article class="jsx-4024790327 article"><header><h1 class="jsx-3317733201">Visualising Hangfire job stats in Power BI</h1><p class="jsx-2703193364 meta"><span class="jsx-2703193364"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" size="18" height="18" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"></path></svg> <!-- -->2018-02-28</span><span class="jsx-2703193364"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" size="18" height="18" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"></path></svg> <!-- -->Anthony Attwood</span><span class="jsx-2703193364"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" size="18" height="18" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"></path></svg><a href="/category/visualisation">visualisation</a></span></p></header><div class="jsx-2950057177 bodytext"><p>At my day job, we run everything in Azure, which means we make heavy use of Application Insights and Power BI for collecting and visualising stats about our servers and applications.</p>
<p>One of the not-Azure-specific parts we use is the excellent background job execution engine, Hangfire.</p>
<p>Hangfire ships with its own admin dashboard that’s great for showing you what Hangfire’s doing, but since that’s not Power BI, I don’t get the Hangfire job stats in the same unified view of all our other servers and app. Nor does the Hangfire dashboard give you any historical information.</p>
<p>I couldn’t figure an easy way to get the Hangfire stats into App Insights, so I set about making one.</p>
<p>Getting the Hangfire job stats into Power BI involved a couple of steps;</p>
<ol>
<li>Figure out how to call the Hangfire dashboard <code class="language-text">/stats/</code> endpoint to get the stats periodically.</li>
<li>Write an Azure Function that polls the same <code class="language-text">/stats/</code> endpoint and pushes the results into App Insights — I poll every minute, but faster would work too.</li>
<li>Consume the stats into Power BI and visualise nicely.</li>
<li>??</li>
<li>$$ Profit!</li>
</ol>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/8bd66ac23cc4540dad09b7ca2ab7b3e4/b2a12/design-overview.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 630px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 91.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsSAAALEgHS3X78AAACl0lEQVQ4y4VSXUsUURjeH9FFvyboH3QdXQRSetVdXYiQWHfZRUUGFoWGIloQhJQmJIJEBqGsppu7686Onp2Z3TM7X+ecOd+dmdHdgYJenjnznI/nPe9537fiOE6r1dK5KaXMSAhe+7weh0DjvWJFKVkQp+5Vvx7tb9Z8EJhpZXJycmz0NvCgi5QDw7NeCKNktxG4x1Po4IaHNfB6P6uHh3WLav1sbOH1naXnI3MfHq1n4i8bGxPj409fvDrqsmYXHbtJ2yc7HQXbM7h5f6fDj5xw3/Z/2f1aLO9em124tzJza355ajUTm8913Wq1Ogjb/KnSCNkpi7AoHqSlzLbePViduPp4/Mr05vy3TEwwhhCqzHSG/BDseqd2u9GoR1E4UDLGOgDUm7ZldzzXM4KK/pdRmoZRBH2fUjpYLMICEe0mWPCUMlZRhen/W369rvX4b1dSwgghlbLjMgZXlbWqO2ft3nQPRnS0dp6wfEchJglXmEmDJOUwSPox9iNkxiDGMAj9RPvV65uzld3FStJ6GPELMRcKU66kGHQFo5QbY0xwbsAoEVLj49H3Ty5vzV8SnWkkh2KJUialTIUwP+OicKPy+uUkcxr4e7b946T1HSe1mJbEhGU1xUKkMiMxZ8WW8UKlHHSBkuc5QFReJEzpvX5/1QNLwHrZbiyetd7YTcPfnp6sAGsZWNu+98kDWz1n2+9uQW/bdz8CcC4WUnkIn6LYTQmkFNI04CxkLOLMIdiMPqMGFkpM6fuMeZS0Y3QRtjR5Nh4UV8q8OUdGTMA8n/J8ak4YwvM0hIQPxaSU7XKJ1V+c5+2CUj4MOyIUM0aEwJKb9iNSZBAlLkXBzStMUiGmw5ujlGGeizk3MCRHmYuCGyWVoofpH7Ce7iug+fqDAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="design overview"
        title=""
        src="/static/8bd66ac23cc4540dad09b7ca2ab7b3e4/b2a12/design-overview.png"
        srcset="/static/8bd66ac23cc4540dad09b7ca2ab7b3e4/9ec3c/design-overview.png 200w,
/static/8bd66ac23cc4540dad09b7ca2ab7b3e4/c7805/design-overview.png 400w,
/static/8bd66ac23cc4540dad09b7ca2ab7b3e4/b2a12/design-overview.png 630w"
        sizes="(max-width: 630px) 100vw, 630px"
      />
    </span>
  </span>
  
  </a>
    
<span class="caption">Dataflow for getting Hangfire stats into PowerBI<span/></p>
<h3>Step 1.</h3>
<p>Looking at the network traffic in the browser, we can see that the browser calls <code class="language-text">/stats/</code> like so;</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/27b08b698df2a89e6b0c8f28c4881439/dc4a9/hangfire-dashboard.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 79.38931297709924%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsSAAALEgHS3X78AAACWUlEQVQoz5WTz0/UQBTHG/wbOYD8iKCRgxp3EYhGLx5MPHsx8eaZRZDEqCwrIcgKu6u7qCFEEHcLtMs6nelMZ6bTdlpfW0RFo/GbSTOd9z7f9zLtM4JMhGCEEPU4czBHyBOCeyAOklIGP0kpnzGmfAV7I8lk23an08EYJ/+jFI7jGKpQSsE3fdU6/rN0Eic8cCMd/oBz/p914iTN6Qkz0OqXyvp7tb945YeWtydD72xlMI7iSMepS/bUZ8i829Zx5dD7lDdyArsuYYQBDfsoDsMsDyx0ok+t87a5zyA578w47WeP7VXssiWsN731R7sPaUBzX7AALxGKffb5+dGzrz7CvpMjJ/DiwcL1t1fGN0euNiYm3127WBudahbmzRKSCOrZwrr38e5Ma3Jsc2imVby1NW3yzgkM3nc+3Dy/0X+5MTZeGxmrDQM8ujEwWO2/0Zy4v3N7ulUY3hy4UBu6lJ4PQmiHbaewlEpI2ejWK2b5lVleMZcr7aVVa2UDVeuo+nh76UFz8WXnxZq5vNIur3VX14/XXturXbcbqNB4/+XQsnvOMWEI/k1OkSepau+a9WqjVd/aP6CHvSgUUQh/JFVaxUmQBF6IHUIZNbrEklw6xMEukb7wRPoNp2amDMPoO9f3dGFORwq7GKKEQhJicNmwKPV9ZdjEFly4mWAGhBAAFwoFI9Pck/ko0ozCLKRzQiGHc6VUluwbJmpzTzgYw/odnp2dDYIQChGSVoPJE54HMEwbxsSwyBG0DU4Q9pUCHuBisZjDpVIpiiKIgincK/c4ZKggnUdo5hsgF1IFt92tLQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="hangfire dashboard"
        title=""
        src="/static/27b08b698df2a89e6b0c8f28c4881439/8ff1e/hangfire-dashboard.png"
        srcset="/static/27b08b698df2a89e6b0c8f28c4881439/9ec3c/hangfire-dashboard.png 200w,
/static/27b08b698df2a89e6b0c8f28c4881439/c7805/hangfire-dashboard.png 400w,
/static/27b08b698df2a89e6b0c8f28c4881439/8ff1e/hangfire-dashboard.png 800w,
/static/27b08b698df2a89e6b0c8f28c4881439/dc4a9/hangfire-dashboard.png 917w"
        sizes="(max-width: 800px) 100vw, 800px"
      />
    </span>
  </span>
  
  </a>
    </p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">POST https://{hangfire_server}/hangfire/stats

Content-Type : application/x-www-form-urlencoded; charset=UTF-8
Body : metrics[]=enqueued:count-or-null&amp;metrics[]=failed:count-or-null
&amp;metrics[]=retries:count&amp;metrics[]=recurring:count
&amp;metrics[]=servers:count&amp;metrics[]=succeeded:count&amp;metrics[]=failed:count
&amp;metrics[]=succeeded:count</code></pre></div>
<p>We’ve customised our Hangfire dashboard with a custom <code class="language-text">IDashboardAuthorizationFilter</code> that uses cookies with 24hr session expiry, so I also had to figure out how to authenticate in a stateless manner. Since step 2 involves an Azure Function — which is stateless by design — I didn’t want to have to mess around with cookies if I could avoid it.</p>
<p>Then use Postman (or your REST client of choice) to craft the simplest repeatable request that works for your situation.</p>
<h3>Step 2.</h3>
<p>Write a timer triggered Azure Function that POSTs to the <code class="language-text">/stats/</code> endpoint, parses the result, and sends the data to App Insights. (I tried out <a href="https://flurl.dev/">Flurl.Http</a> http client with its fluent API… very impressed)</p>
<p>You can find the source on github, <a href="https://gist.github.com/tonesandtones/8f45ab89e90d4474b108a35898a0d636">https://gist.github.com/tonesandtones/8f45ab89e90d4474b108a35898a0d636</a> (or the embed below)</p>
<p>I used the <code class="language-text">Microsoft.ApplicationInsights</code> package, which makes it really easy to post metrics to App Insights, just</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">(new TelemetryClient).TrackMetric(“Metric Name”, metricValue)</code></pre></div>
<p>They then show up in App Insights as CustomMetrics.</p>
<p>I’m only interested in the Hangfire servers, succeeded, failed, and retry metrics, so they’re the only ones I publish into App Insights (apologies for the out-of-date-screenshot, I added the servers metric after I’d taken all the screenshots for this post)</p>
<h3>Step 3.</h3>
<p>Getting the data out of App Insights and into Power BI is a little awkward, but fairly easy. Once you’ve got your analytics query giving you the results you want, export it to an M-Query script, and import that script into Power BI as a Blank Query datasource. See <a href="https://docs.microsoft.com/en-us/azure/application-insights/app-insights-export-power-bi#export-analytics-queries">https://docs.microsoft.com/en-us/azure/application-insights/app-insights-export-power-bi#export-analytics-queries</a></p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/6443eadc3115d5f19d827e880eea80e6/90647/app-insights-query.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 531px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 82.67419962335217%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsSAAALEgHS3X78AAACJ0lEQVQ4y41S2W7TUBC9HwhIgAS88MID/4aEeETAQ0sSx00i0jSFtt7v4nu9xWsSJykSy7FdgpqCYDQ6Httz5p45Nnn77v3sbPZpOqWMv3r95vmLl/cfPX3w+BmwzX1xmPcePiH9vjaf09PTue3YcRwrv4nVcrmsyqosq6JosM3l/hZYVeu6JkfH/aEW6/rFcKhNRqOpNphNxtbnL8pxFlEUMRpxEQsRS5moIPJoLPyIsUUYbjYbMjwZm2ZxZcaWZV1cXlqm6bhukiSr1aqu6/V6Xa+ba1vXN0/qm4Kczc+///i23W52u931NWD3tcFt/R9BxpNJnmWBCrBwGEVxFFKVRGlelsU/g3zURpaIKBeu6zqOK6V/bnoqTqtf5PzvQT4c9Wzq265nmKZl2+AbhoFBnue5TXi+L6VUUu7xd5ChroeBQhelLECEIT4VY6wtQ6UU5xwI40GObgfRT0bYlHEOAmhC+GBRSiVq34ftmIE+6M/S9FC2NtTRDbIHBmPQKZXq6k4LjIyTZLFI0yw7SKLpIAc4ttmSUgdkKW1cKHWbtb3mLeeYmN0JMmhPxo8NKtJtyU5LBrSrxekiLYryD+TjXp8LgW5YDb8Nw4TaK8OE7535jAsMEkI0P8HtJL3+AM6gqelsR8AzTOlqBsVcAKEOqx8kdj6BMhyODnTCJ9iLwzsOxsMseJXnRZblB9kYhm/Rus3AhEIVBLAKTIxwqac6w6S86/ZPHfB1H4puX30AAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="AIQL for getting the stats out of App Insights"
        title=""
        src="/static/6443eadc3115d5f19d827e880eea80e6/90647/app-insights-query.png"
        srcset="/static/6443eadc3115d5f19d827e880eea80e6/9ec3c/app-insights-query.png 200w,
/static/6443eadc3115d5f19d827e880eea80e6/c7805/app-insights-query.png 400w,
/static/6443eadc3115d5f19d827e880eea80e6/90647/app-insights-query.png 531w"
        sizes="(max-width: 531px) 100vw, 531px"
      />
    </span>
  </span>
  
  </a>
    
<span class="caption">AIQL for getting the stats out of App Insights</span></p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/03420edfb18e0dc3525408dcea97c955/d9ced/getting-the-m-query.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 293px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 48.122866894197955%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAACCklEQVQoz3WQ7W/SUBTG+zcZsylzsAEbbw4HDBbmdDEaE/8mv/lNP6jJJLq38I6MFpC2MKArpaVdW9rSQkvB2IIXP2p8cnLu7+Se5z7Jhe6tbzqc3v2D5NrG9tHzlw6XN5p4GtiLOpyeYPjA5Q3ef+hac2xt7wSdbt9uaN/j3/M9jjjdfmCEHmx6XN5A7PB4Y2tnP37kBJfRhC8UCT6Jn7x6E44l3f6wJxAGYyiSiCdPYofPjl+83g1F1h+5oVbrptlsoRgOAEUxwBiGgzOdz6Uz5/lipoKUit9zhVIWMFK7bqAIXIPrDbzd7kD2wrZs27J+WYuFvVxaYFoufloWTnS7/VuSJimWIpkeOVgVN+RkmecFTjdMy7IgAqlSTZxhmFukRlzDZK3eQzHyBzokSI3qa+JwpqgSzSg9SqMHI46XtLExNSeTiWEYkCyKiiQpQOJQGgwUQVA0TS4UmE8f2I/v+a+nQvqcPfsySH1mz06HV9/kclGU7jRNM00Tms5mU9OcAoEO2DCmtm1eXlTyl2WsUkXyMFapNJFqF4Vx+KZR5t+9Jdt1RR2tko2/pOvGfG50OlIqpWbS41zWKBVXkL5Ss5lJqWh3O7P5bDwe/0n+V+CF+ZyjGZ6m2T4t9uk7ghB7Pa5HsYIwWyxBxP/NwK7riqqCn5AVBXRJHUmjVcmSJPC8KIq6roO130b8zGk5UmzeAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="Getting the MQuery text out of App Insights"
        title=""
        src="/static/03420edfb18e0dc3525408dcea97c955/d9ced/getting-the-m-query.png"
        srcset="/static/03420edfb18e0dc3525408dcea97c955/9ec3c/getting-the-m-query.png 200w,
/static/03420edfb18e0dc3525408dcea97c955/d9ced/getting-the-m-query.png 293w"
        sizes="(max-width: 293px) 100vw, 293px"
      />
    </span>
  </span>
  
  </a>
    
<span class="caption">Getting the MQuery text out of App Insights</span></p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/bc87bb9f551c398bef4c87df2a4b9881/38c7b/adding-the-query-to-powerbi.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 682px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 38.856304985337246%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAABcUlEQVQY022RX0vCUBjGz5frG3TTJ5AuDJpg5jIvjP6AhWBeVRdaZBChcw2X25yaXnmxC1Fzuokpkc5t/oN0De11QgT2uzjnfd7zPOfAe1Cz2azX64Ig1JaIsiyDrFbfKtVqY4XUkCQZdujDKoqiJElL2ZDQ2emJ1+t5JonRQFOUbk9RdF1vt9+Hw6FhfK/4LUzTNFbCNOfzOdp14LZt7OGRVAfGx6euahqEx+MRmMC6WCzAOZ3OVklgNpsZ1gVwhCLBzWv/Bn2/Vc7YhOxxIHDhduMODAuFQn6/3+c7Cocj0Wj01uLuDyARFQu+MlccdcmS52zyhqLIRIJIEESxWCzkCxzHJWna4cDsdvvOGugpRjFcPknz9EuOYXM1Uex0Ot1ubzyZfFnA5DyeQ5fLtb8GShDxbIZPp+ENlufTlUoZhtlqtZS+hdovlUo4fuB0OvfWQPF4DJJMikmlUizLlsvLMPwfxDRNU1UVOjiO/xv+AQgfYVV3WDoCAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="...and in to PowerBI"
        title=""
        src="/static/bc87bb9f551c398bef4c87df2a4b9881/38c7b/adding-the-query-to-powerbi.png"
        srcset="/static/bc87bb9f551c398bef4c87df2a4b9881/9ec3c/adding-the-query-to-powerbi.png 200w,
/static/bc87bb9f551c398bef4c87df2a4b9881/c7805/adding-the-query-to-powerbi.png 400w,
/static/bc87bb9f551c398bef4c87df2a4b9881/38c7b/adding-the-query-to-powerbi.png 682w"
        sizes="(max-width: 682px) 100vw, 682px"
      />
    </span>
  </span>
  
  </a>
    
<span class="caption">…and in to PowerBI</span></p>
<p>In my visualisation, I’m after a plot of the number of jobs that succeed and fail at each point in time (whatever my bin size ends up being). Unfortunately the Hangfire <code class="language-text">/stats/</code> endpoint only tells you the current total of succeeded and failed jobs each time you call it, so I have a couple of requirements for the data manipulation in Power BI;</p>
<ul>
<li>calculate the delta of failed/succeeded jobs between subsequent calls, and</li>
<li>be able to get the total jobs that succeeded/failed in, say, 15 minute bins, or any bin size we choose.</li>
</ul>
<p>Note that the <code class="language-text">Retries</code> metric is only the number of jobs being retried at the instant the stats are gathered, so we don’t need the delta for that metric. It’s also not particularly accurate, but it’s enough to show up any persistent errors that need attention. Ditto for <code class="language-text">Servers</code>, since that’s the count of servers Hangfire thinks are active at any given moment.</p>
<p>Since I get the results out of App Insights in a single query, I needed to do the following steps to get the data in the form I need;</p>
<ul>
<li>Split the one table from App Insights into 3 tables, one for each metric name,</li>
<li>For the succeeded and failed metrics, use this Power BI community post <a href="https://community.powerbi.com/t5/Desktop/Calculate-Difference-Between-Latest-Date-and-Previous-Date/m-p/179532">https://community.powerbi.com/t5/Desktop/Calculate-Difference-Between-Latest-Date-and-Previous-Date/m-p/179532</a> to calculate the delta between each row and the previous.)</li>
<li>Add calculated rows to convert the UTC timestamps into my local timezone — because Power BI’s handling of timezones is pretty abysmal at the moment</li>
<li>Finally, create groupings from the timestamps to produce 15 minute bins</li>
</ul>
<p>(No doubt someone with better Power BI skills than mine could do a better job, but this approach works for my purposes)</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/907bff685412c5c391006b21f83f708e/e8146/stats-1.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 577px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 21.837088388214905%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsSAAALEgHS3X78AAAAzUlEQVQI1x2My6qDMBiEff/nEOpdUxNrYs5K30GqkkTjDVERbD3b/u23GIZhZgyEkOu6pmnatu24/s1yLOsGhGHgOLbneRGK7kEIpQRFcXxP0wdjlDFGCDYopb7vB+EXgjHPvnCeFUWR5/kf55SmMcYkISmlUYQgzzKWJA/4NYa+77Qex7FVal3X8zyP47iu6/V+g0Iipeo6PQx927bTNP1fFyh4IaUhhajrWgjxfFZa62VZ5nneNlhtAGyqqmqaRvxqUsp935VS4Muy/ACJUb9pjVBJZQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="stats 1"
        title=""
        src="/static/907bff685412c5c391006b21f83f708e/e8146/stats-1.png"
        srcset="/static/907bff685412c5c391006b21f83f708e/9ec3c/stats-1.png 200w,
/static/907bff685412c5c391006b21f83f708e/c7805/stats-1.png 400w,
/static/907bff685412c5c391006b21f83f708e/e8146/stats-1.png 577w"
        sizes="(max-width: 577px) 100vw, 577px"
      />
    </span>
  </span>
  
  </a>
    

  <a
    class="gatsby-resp-image-link"
    href="/static/5684e8cc1446cb4aa450972426a1e23e/a3676/stats-2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 472px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 32.20338983050848%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAABF0lEQVQY0yVPy5KCMBDk192LW1S5cNkgllz8HjhoWMAkQII8NkFe60GP22pXUjXV0z3TY223W9dxVqsP13Ft215/roP93nGcIAiIRzzPQ03It+/7m68NyMPhQAjxdzuILW1013XG9L0xbdsOw/B4PO73+zRNTdO0LVq6++1Qaa3B325/dX3R2nDOLSF4mgApOzN6opzxcRyNMZf6krz4c5bhZSl+Ng4DRsRxzBgLw9CqKpW/oKTEsKqqsPN6HRBH5EKIvASKAoKiKNDq+x4yKeXxeHqbwZdKKqxVSk3TjPAw57lAB7qXvSilfJsRFjJKqYUxafrMxBk7HSk2LMsCc13XSfKTpBnOeSbOzsA8z7goppRxHkXRP6FEKkcSzYl+AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="stats 2"
        title=""
        src="/static/5684e8cc1446cb4aa450972426a1e23e/a3676/stats-2.png"
        srcset="/static/5684e8cc1446cb4aa450972426a1e23e/9ec3c/stats-2.png 200w,
/static/5684e8cc1446cb4aa450972426a1e23e/c7805/stats-2.png 400w,
/static/5684e8cc1446cb4aa450972426a1e23e/a3676/stats-2.png 472w"
        sizes="(max-width: 472px) 100vw, 472px"
      />
    </span>
  </span>
  
  </a>
    

  <a
    class="gatsby-resp-image-link"
    href="/static/8c8f730c199267cd8f9449f256f639da/d3218/stats-3.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 589px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 25.29711375212224%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAAA8UlEQVQY0x2Oy26EIBiFff8H0ZRBB7zVauNt4Tt4QQQhOkO1Lmrisv/MWZAT+L4TLN/3Mca2bSP0gdDt5t4dx0EIeZ7ruvCCCaURJQHGMbmHlCZfSfadQeI4ttI09TyPEAIrLnaTJAmCsKqqsiybpsnzHLgo/gyjKM0ySmld10VRgOkHgaWVkvOstRZCKqUfj+e6rtd1/b2z/+5SymkSWishhFLqPE9jnpxzgC0+jn0/jOx1MsYABWjfd2PMtm3LsjA2QMaR9cMLgEuY6LoOusU5aD0QbdtCmeU8TdNxHD/GwMT6klnX9yAP74AMvwAZ+j+LK/QltPVKsAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="stats 3"
        title=""
        src="/static/8c8f730c199267cd8f9449f256f639da/d3218/stats-3.png"
        srcset="/static/8c8f730c199267cd8f9449f256f639da/9ec3c/stats-3.png 200w,
/static/8c8f730c199267cd8f9449f256f639da/c7805/stats-3.png 400w,
/static/8c8f730c199267cd8f9449f256f639da/d3218/stats-3.png 589w"
        sizes="(max-width: 589px) 100vw, 589px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p><div id="gist85659341" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-rowindexandvaluechange" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-text ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tr>
        <td id="file-rowindexandvaluechange-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-rowindexandvaluechange-LC1" class="blob-code blob-code-inner js-file-line">--2018-07-18 Updated to use new RANKX function to deal with duplicate timestamp values.</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-rowindexandvaluechange-LC2" class="blob-code blob-code-inner js-file-line">--</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-rowindexandvaluechange-LC3" class="blob-code blob-code-inner js-file-line">--When there are duplicate timestamp values in the dataset, using the previous method (with EARLIER()) would create</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-rowindexandvaluechange-LC4" class="blob-code blob-code-inner js-file-line">--index values that run, eg, 122, 123, 123, 125, 126.</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-rowindexandvaluechange-LC5" class="blob-code blob-code-inner js-file-line">--Supposing therer were 100 new items per row, and ~5000 total (so total would run 4900, 5000, 5100, 5200, etc),</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-rowindexandvaluechange-LC6" class="blob-code blob-code-inner js-file-line">--the ValueChange would run 100, 100, 5000(!!), 100, 100.</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-rowindexandvaluechange-LC7" class="blob-code blob-code-inner js-file-line">--Now, using a RANKX() with Dense enumeration (https://msdn.microsoft.com/en-us/query-bi/dax/rankx-function-dax),</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-rowindexandvaluechange-LC8" class="blob-code blob-code-inner js-file-line">--we can get dense indices that don&#39;t skip, so we can lookup Index-1 and know it always exists.</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-rowindexandvaluechange-LC9" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-rowindexandvaluechange-LC10" class="blob-code blob-code-inner js-file-line">------------------------------------------</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-rowindexandvaluechange-LC11" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-rowindexandvaluechange-LC12" class="blob-code blob-code-inner js-file-line">--must be DENSE rank so we can lookup value(rank+1) and not get missing values</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-rowindexandvaluechange-LC13" class="blob-code blob-code-inner js-file-line">Index = RANKX(HangfireSuceeded, HangfireSuceeded[timestamp], HangfireSuceeded[timestamp], ASC, Dense)</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-rowindexandvaluechange-LC14" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-rowindexandvaluechange-LC15" class="blob-code blob-code-inner js-file-line">--Now with dense rank, HangfireSuceeded[Index]-1 is guaranteed to exist</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-rowindexandvaluechange-LC16" class="blob-code blob-code-inner js-file-line">Value Change = </td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-rowindexandvaluechange-LC17" class="blob-code blob-code-inner js-file-line">   IF (</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-rowindexandvaluechange-LC18" class="blob-code blob-code-inner js-file-line">    HangfireSuceeded[Index] = 1,</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-rowindexandvaluechange-LC19" class="blob-code blob-code-inner js-file-line">    0,</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-rowindexandvaluechange-LC20" class="blob-code blob-code-inner js-file-line">    HangfireSuceeded[value] - LOOKUPVALUE(HangfireSuceeded[value], HangfireSuceeded[Index], HangfireSuceeded[Index]-1)</td>
      </tr>
      <tr>
        <td id="file-rowindexandvaluechange-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-rowindexandvaluechange-LC21" class="blob-code blob-code-inner js-file-line">)</td>
      </tr>
</table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/tonesandtones/0525b74d8a622c4644c34dbe33274268/raw/9d0cc84bc7cdc563185f545846c17e72490c9922/RowIndexAndValueChange" style="float:right">view raw</a>
        <a href="https://gist.github.com/tonesandtones/0525b74d8a622c4644c34dbe33274268#file-rowindexandvaluechange">RowIndexAndValueChange</a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div></p>
<p>Once all that’s in place, drag and drop the 4 metrics onto 4 line graphs (pick the graph type of your choice — bar graphs would work too). With the 15 minute bins, I can choose from 1 minute (source) or 15 minute (binned) resolution. On the graphs with 1 minute resolution, I also added a filter to pick just the last 1440 minutes (24 hours) of data.</p>
<p>We use Power BI Pro, so it was then a simple matter of publishing the report to our Power BI instance, and setting up a refresh schedule to have Power BI refresh the data every hour.</p>
<h3>The finished product</h3>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/42af2f507b4202c696df7a007c9298f1/a5428/data-24hrs.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 57.36040609137055%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABVElEQVQoz3VS20oDQQzd3/VFEIpQH/rgP/gHvguC4CcIIm21tm5brGJbdaXW3bkmmZmanZV1C+0hsEnmZE6SnWSzDQDI81xFCCGMMVJKEcFHiFgziSjhmD/e+yrFDoeuAYpgx0dsFXM2bCEeBA8NXhM1qSz2u0jovXHuv4A7CqFpf8XgSDunHc2NerdmIouF0b38eyhyQfSsBCebF1XiOaFGSJjUmQxO0v7xqHc06h4+3h0MblvDbmvU7Ywf2k/908ngbJZeZcvLz/nFx9t1tjyfz9rp/c0qSzRRZvRSyTXAF9g1wgqtQiwQOWQFSbhQ8kWrqRJjJdLi51WJgvtl5XKN3FW1qNjSJk5YTxs2uxG3HQIGrxENEe8JSnMKwDoXfc+OBGu9q0whMBlDsIhJ+ZOJKsEQ9snsUeb3YbzjfQpCHpjv1mxEnCnz8agMfR1SacGz8i9OVnmL8mGDAgAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="data 24hrs"
        title=""
        src="/static/42af2f507b4202c696df7a007c9298f1/8ff1e/data-24hrs.png"
        srcset="/static/42af2f507b4202c696df7a007c9298f1/9ec3c/data-24hrs.png 200w,
/static/42af2f507b4202c696df7a007c9298f1/c7805/data-24hrs.png 400w,
/static/42af2f507b4202c696df7a007c9298f1/8ff1e/data-24hrs.png 800w,
/static/42af2f507b4202c696df7a007c9298f1/a5428/data-24hrs.png 1182w"
        sizes="(max-width: 800px) 100vw, 800px"
      />
    </span>
  </span>
  
  </a>
    
<span class="caption">24 Hours of data at 1 minute resolution</span></p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/e22d19d14cf0d37e67b64b9299cb36f1/04132/data-7d.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 57.770270270270274%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABZUlEQVQoz01S2U7EMAzM/38SH4AE4gkE0kqIQ0IsbLe76ZHTR5mkB7WsaDx13LEdk1aLMXrvT6dT27bW2ku1tlrTNGC6rgshxJ0ZriYi0zSp6hwCqCz2z6hOO8MnM+k05+0/IJfmctVhCLerWyHT5uSYgZoUB84/MXjmKAJ+zrtWcM4RFQeikWj7hzmM3VdwjummOd5emrvr+am3QfjBtoexf3PDy2CTyHNvH3v76oZ726J6T3lkMigwMH1HjxOOMIh8evfuxyvlrvqHd78pemGtHQFDIIAhTCNnrZ1r1S+EBqWMrCoEj5zS/Do2XpWbSDnknFBBBE67c3PagQ1ruSwciMrJ5CvwKMdzmGu456nwufDQaqAtp6RSFqvzenDOK13DheflLei6VxOZMcwiWxVigLMWxzCPMSxh1TkyY1UlTTXVh2GgcAgBvx5TgoNFGIkc5caNyHMpwXHZhoCNosehFsXlP2PFvaCOMFDYAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="data 7d"
        title=""
        src="/static/e22d19d14cf0d37e67b64b9299cb36f1/8ff1e/data-7d.png"
        srcset="/static/e22d19d14cf0d37e67b64b9299cb36f1/9ec3c/data-7d.png 200w,
/static/e22d19d14cf0d37e67b64b9299cb36f1/c7805/data-7d.png 400w,
/static/e22d19d14cf0d37e67b64b9299cb36f1/8ff1e/data-7d.png 800w,
/static/e22d19d14cf0d37e67b64b9299cb36f1/04132/data-7d.png 1184w"
        sizes="(max-width: 800px) 100vw, 800px"
      />
    </span>
  </span>
  
  </a>
    
<span class="caption">And 7 days of data at 15 minute resolution</span></p>
<p>(Again, sorry for the out of date screenshots, I added the <code class="language-text">servers</code> metric as another line graph at the bottom after they were taken)</p>
<h3>Source code</h3>
<p>(<a href="https://gist.github.com/tonesandtones/8f45ab89e90d4474b108a35898a0d636">https://gist.github.com/tonesandtones/8f45ab89e90d4474b108a35898a0d636</a>)</p>
<p>(You don’t need to point out how gross this code is, this whole process is the product of a couple of hours on a Friday afternoon — it ain’t pretty , but it works ;-) )</p>
<p><div id="gist85658409" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-hangfirestatscollector-cs" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-c ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tr>
        <td id="file-hangfirestatscollector-cs-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-hangfirestatscollector-cs-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> <span class="pl-en">System</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-hangfirestatscollector-cs-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> <span class="pl-en">System</span>.<span class="pl-en">Collections</span>.<span class="pl-en">Generic</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-hangfirestatscollector-cs-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> <span class="pl-en">System</span>.<span class="pl-en">Configuration</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-hangfirestatscollector-cs-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> <span class="pl-en">System</span>.<span class="pl-en">Globalization</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-hangfirestatscollector-cs-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> <span class="pl-en">System</span>.<span class="pl-en">Net</span>.<span class="pl-en">Http</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-hangfirestatscollector-cs-LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> <span class="pl-en">System</span>.<span class="pl-en">Text</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-hangfirestatscollector-cs-LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> <span class="pl-en">System</span>.<span class="pl-en">Threading</span>.<span class="pl-en">Tasks</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-hangfirestatscollector-cs-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> <span class="pl-en">Microsoft</span>.<span class="pl-en">Azure</span>.<span class="pl-en">WebJobs</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-hangfirestatscollector-cs-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> <span class="pl-en">Microsoft</span>.<span class="pl-en">Azure</span>.<span class="pl-en">WebJobs</span>.<span class="pl-en">Host</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-hangfirestatscollector-cs-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> <span class="pl-en">Flurl</span>.<span class="pl-en">Http</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-hangfirestatscollector-cs-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> <span class="pl-en">Microsoft</span>.<span class="pl-en">ApplicationInsights</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-hangfirestatscollector-cs-LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> <span class="pl-en">Microsoft</span>.<span class="pl-en">ApplicationInsights</span>.<span class="pl-en">Extensibility</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-hangfirestatscollector-cs-LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-k">using</span> <span class="pl-en">Newtonsoft</span>.<span class="pl-en">Json</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-hangfirestatscollector-cs-LC14" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-hangfirestatscollector-cs-LC15" class="blob-code blob-code-inner js-file-line"><span class="pl-k">namespace</span> <span class="pl-en">HangfireStatsCollector</span></td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-hangfirestatscollector-cs-LC16" class="blob-code blob-code-inner js-file-line">{</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-hangfirestatscollector-cs-LC17" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">class</span> <span class="pl-en">HangfireStatsCollector</span></td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-hangfirestatscollector-cs-LC18" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-hangfirestatscollector-cs-LC19" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">readonly</span> <span class="pl-k">string</span> <span class="pl-smi">key</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-hangfirestatscollector-cs-LC20" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">private</span> <span class="pl-k">static</span> <span class="pl-k">readonly</span> <span class="pl-en">TelemetryClient</span> <span class="pl-smi">telemetry</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-hangfirestatscollector-cs-LC21" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-hangfirestatscollector-cs-LC22" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">static</span> <span class="pl-en">HangfireStatsCollector</span>()</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-hangfirestatscollector-cs-LC23" class="blob-code blob-code-inner js-file-line">        {</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-hangfirestatscollector-cs-LC24" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">key</span> <span class="pl-k">=</span> <span class="pl-smi">ConfigurationManager</span>.<span class="pl-smi">AppSettings</span>[<span class="pl-s"><span class="pl-pds">&quot;</span>HangfireMetricsAppInsightsSinkKey<span class="pl-pds">&quot;</span></span>];</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-hangfirestatscollector-cs-LC25" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">if</span> (<span class="pl-k">!</span><span class="pl-smi">string</span>.<span class="pl-en">IsNullOrEmpty</span>(<span class="pl-smi">key</span>))</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-hangfirestatscollector-cs-LC26" class="blob-code blob-code-inner js-file-line">            {</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-hangfirestatscollector-cs-LC27" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">TelemetryConfiguration</span>.<span class="pl-smi">Active</span>.<span class="pl-smi">InstrumentationKey</span> <span class="pl-k">=</span> <span class="pl-smi">key</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-hangfirestatscollector-cs-LC28" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">telemetry</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">TelemetryClient</span>() { <span class="pl-smi">InstrumentationKey</span> <span class="pl-k">=</span> <span class="pl-smi">key</span> };</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-hangfirestatscollector-cs-LC29" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-hangfirestatscollector-cs-LC30" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-hangfirestatscollector-cs-LC31" class="blob-code blob-code-inner js-file-line">        </td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-hangfirestatscollector-cs-LC32" class="blob-code blob-code-inner js-file-line">        [<span class="pl-en">FunctionName</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>HangfireStatsCollector<span class="pl-pds">&quot;</span></span>)]</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-hangfirestatscollector-cs-LC33" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">public</span> <span class="pl-k">static</span> <span class="pl-k">async</span> <span class="pl-en">Task</span> <span class="pl-en">Run</span>(</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-hangfirestatscollector-cs-LC34" class="blob-code blob-code-inner js-file-line">            [<span class="pl-en">TimerTrigger</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>0 */1 * * * *<span class="pl-pds">&quot;</span></span>, <span class="pl-en">RunOnStartup</span> <span class="pl-k">=</span> <span class="pl-c1">true</span>)] <span class="pl-en">TimerInfo</span> <span class="pl-smi">myTimer</span>,</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-hangfirestatscollector-cs-LC35" class="blob-code blob-code-inner js-file-line">            <span class="pl-en">TraceWriter</span> <span class="pl-smi">log</span>)</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-hangfirestatscollector-cs-LC36" class="blob-code blob-code-inner js-file-line">        {</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-hangfirestatscollector-cs-LC37" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">log</span>.<span class="pl-en">Info</span>(<span class="pl-s"><span class="pl-pds">$&quot;</span>C# Timer trigger function executed at: {<span class="pl-smi">DateTime</span>.<span class="pl-smi">Now</span>}<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-hangfirestatscollector-cs-LC38" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-hangfirestatscollector-cs-LC39" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">if</span> (<span class="pl-smi">telemetry</span> <span class="pl-k">==</span> <span class="pl-c1">null</span>)</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-hangfirestatscollector-cs-LC40" class="blob-code blob-code-inner js-file-line">            {</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-hangfirestatscollector-cs-LC41" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">log</span>.<span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>No App Insights instrumentation key available. Cannot publish metrics.<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-hangfirestatscollector-cs-LC42" class="blob-code blob-code-inner js-file-line">                <span class="pl-k">return</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-hangfirestatscollector-cs-LC43" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-hangfirestatscollector-cs-LC44" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-hangfirestatscollector-cs-LC45" class="blob-code blob-code-inner js-file-line">            <span class="pl-en">IList</span>&lt;<span class="pl-k">string</span>&gt; <span class="pl-smi">paramsToFetch</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">List</span>&lt;<span class="pl-k">string</span>&gt;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-hangfirestatscollector-cs-LC46" class="blob-code blob-code-inner js-file-line">            {</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-hangfirestatscollector-cs-LC47" class="blob-code blob-code-inner js-file-line">                <span class="pl-s"><span class="pl-pds">&quot;</span>enqueued:count-or-null<span class="pl-pds">&quot;</span></span>,</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-hangfirestatscollector-cs-LC48" class="blob-code blob-code-inner js-file-line">                <span class="pl-s"><span class="pl-pds">&quot;</span>retries:count<span class="pl-pds">&quot;</span></span>,</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-hangfirestatscollector-cs-LC49" class="blob-code blob-code-inner js-file-line">                <span class="pl-s"><span class="pl-pds">&quot;</span>recurring:count<span class="pl-pds">&quot;</span></span>,</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-hangfirestatscollector-cs-LC50" class="blob-code blob-code-inner js-file-line">                <span class="pl-s"><span class="pl-pds">&quot;</span>servers:count<span class="pl-pds">&quot;</span></span>,</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-hangfirestatscollector-cs-LC51" class="blob-code blob-code-inner js-file-line">                <span class="pl-s"><span class="pl-pds">&quot;</span>succeeded:count<span class="pl-pds">&quot;</span></span>,</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-hangfirestatscollector-cs-LC52" class="blob-code blob-code-inner js-file-line">                <span class="pl-s"><span class="pl-pds">&quot;</span>failed:count<span class="pl-pds">&quot;</span></span></td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-hangfirestatscollector-cs-LC53" class="blob-code blob-code-inner js-file-line">            };</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="file-hangfirestatscollector-cs-LC54" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="file-hangfirestatscollector-cs-LC55" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">string</span> <span class="pl-smi">ps</span> <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">&quot;</span>metrics[]=<span class="pl-pds">&quot;</span></span> <span class="pl-k">+</span> <span class="pl-smi">string</span>.<span class="pl-en">Join</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&amp;metrics[]=<span class="pl-pds">&quot;</span></span>, <span class="pl-smi">paramsToFetch</span>);</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="file-hangfirestatscollector-cs-LC56" class="blob-code blob-code-inner js-file-line">            </td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="file-hangfirestatscollector-cs-LC57" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">string</span> <span class="pl-smi">statsUrl</span> <span class="pl-k">=</span> <span class="pl-smi">ConfigurationManager</span>.<span class="pl-smi">AppSettings</span>[<span class="pl-s"><span class="pl-pds">&quot;</span>HangfireStatsUrl<span class="pl-pds">&quot;</span></span>];</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="file-hangfirestatscollector-cs-LC58" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">if</span> (<span class="pl-smi">string</span>.<span class="pl-en">IsNullOrEmpty</span>(<span class="pl-smi">statsUrl</span>))</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="file-hangfirestatscollector-cs-LC59" class="blob-code blob-code-inner js-file-line">            {</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="file-hangfirestatscollector-cs-LC60" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">log</span>.<span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>No Hangfire stats target URL specified. Cannot fetch metrics<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="file-hangfirestatscollector-cs-LC61" class="blob-code blob-code-inner js-file-line">                <span class="pl-k">return</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="file-hangfirestatscollector-cs-LC62" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="file-hangfirestatscollector-cs-LC63" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="file-hangfirestatscollector-cs-LC64" class="blob-code blob-code-inner js-file-line">            <span class="pl-en">HangfireStatsWrapper</span> <span class="pl-smi">stats</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="file-hangfirestatscollector-cs-LC65" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">try</span></td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="file-hangfirestatscollector-cs-LC66" class="blob-code blob-code-inner js-file-line">            {</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="file-hangfirestatscollector-cs-LC67" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">stats</span> <span class="pl-k">=</span></td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="file-hangfirestatscollector-cs-LC68" class="blob-code blob-code-inner js-file-line">                    <span class="pl-k">await</span> <span class="pl-smi">statsUrl</span></td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="file-hangfirestatscollector-cs-LC69" class="blob-code blob-code-inner js-file-line">                        .<span class="pl-en">PostAsync</span>(</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="file-hangfirestatscollector-cs-LC70" class="blob-code blob-code-inner js-file-line">                            <span class="pl-k">new</span> <span class="pl-en">StringContent</span>(<span class="pl-smi">ps</span>, <span class="pl-smi">Encoding</span>.<span class="pl-smi">UTF8</span>, <span class="pl-s"><span class="pl-pds">&quot;</span>application/x-www-form-urlencoded<span class="pl-pds">&quot;</span></span>))</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="file-hangfirestatscollector-cs-LC71" class="blob-code blob-code-inner js-file-line">                        .<span class="pl-en">ReceiveJson</span>&lt;<span class="pl-en">HangfireStatsWrapper</span>&gt;();</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="file-hangfirestatscollector-cs-LC72" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="file-hangfirestatscollector-cs-LC73" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">catch</span> (<span class="pl-en">Exception</span> <span class="pl-smi">e</span>)</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="file-hangfirestatscollector-cs-LC74" class="blob-code blob-code-inner js-file-line">            {</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="file-hangfirestatscollector-cs-LC75" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">log</span>.<span class="pl-en">Error</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Unexpected exception<span class="pl-pds">&quot;</span></span>, <span class="pl-smi">e</span>);</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="file-hangfirestatscollector-cs-LC76" class="blob-code blob-code-inner js-file-line">                <span class="pl-smi">telemetry</span>.<span class="pl-en">TrackException</span>(<span class="pl-smi">e</span>);</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="file-hangfirestatscollector-cs-LC77" class="blob-code blob-code-inner js-file-line">                <span class="pl-k">throw</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="file-hangfirestatscollector-cs-LC78" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="file-hangfirestatscollector-cs-LC79" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="file-hangfirestatscollector-cs-LC80" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">log</span>.<span class="pl-en">Info</span>(<span class="pl-s"><span class="pl-pds">$&quot;</span>Got Hangfire stats: Succeeded = {<span class="pl-smi">stats</span>.<span class="pl-smi">Succeeded</span>.<span class="pl-smi">Value</span>}, Retries = {<span class="pl-smi">stats</span>.<span class="pl-smi">Retries</span>.<span class="pl-smi">Value</span>}, Failed = {<span class="pl-smi">stats</span>.<span class="pl-smi">Failed</span>.<span class="pl-smi">Value</span>}<span class="pl-pds">&quot;</span></span>);</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="file-hangfirestatscollector-cs-LC81" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="file-hangfirestatscollector-cs-LC82" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">if</span> (<span class="pl-smi">stats</span>.<span class="pl-smi">Retries</span>.<span class="pl-smi">ValueInt</span>.<span class="pl-smi">HasValue</span>) <span class="pl-smi">telemetry</span>.<span class="pl-en">TrackMetric</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Hangfire-Retries<span class="pl-pds">&quot;</span></span>, <span class="pl-smi">stats</span>.<span class="pl-smi">Retries</span>.<span class="pl-smi">ValueInt</span>.<span class="pl-smi">Value</span>);</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="file-hangfirestatscollector-cs-LC83" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">if</span> (<span class="pl-smi">stats</span>.<span class="pl-smi">Succeeded</span>.<span class="pl-smi">ValueInt</span>.<span class="pl-smi">HasValue</span>) <span class="pl-smi">telemetry</span>.<span class="pl-en">TrackMetric</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Hangfire-Succeeded<span class="pl-pds">&quot;</span></span>, <span class="pl-smi">stats</span>.<span class="pl-smi">Succeeded</span>.<span class="pl-smi">ValueInt</span>.<span class="pl-smi">Value</span>);</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="file-hangfirestatscollector-cs-LC84" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">if</span> (<span class="pl-smi">stats</span>.<span class="pl-smi">Failed</span>.<span class="pl-smi">ValueInt</span>.<span class="pl-smi">HasValue</span>) <span class="pl-smi">telemetry</span>.<span class="pl-en">TrackMetric</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Hangfire-Failed<span class="pl-pds">&quot;</span></span>, <span class="pl-smi">stats</span>.<span class="pl-smi">Failed</span>.<span class="pl-smi">ValueInt</span>.<span class="pl-smi">Value</span>);</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="file-hangfirestatscollector-cs-LC85" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">if</span> (<span class="pl-smi">stats</span>.<span class="pl-smi">Servers</span>.<span class="pl-smi">ValueInt</span>.<span class="pl-smi">HasValue</span>) <span class="pl-smi">telemetry</span>.<span class="pl-en">TrackMetric</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Hangfire-Servers<span class="pl-pds">&quot;</span></span>, <span class="pl-smi">stats</span>.<span class="pl-smi">Servers</span>.<span class="pl-smi">ValueInt</span>.<span class="pl-smi">Value</span>);</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="file-hangfirestatscollector-cs-LC86" class="blob-code blob-code-inner js-file-line">            <span class="pl-smi">telemetry</span>.<span class="pl-en">Flush</span>();</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="file-hangfirestatscollector-cs-LC87" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="file-hangfirestatscollector-cs-LC88" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="file-hangfirestatscollector-cs-LC89" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="file-hangfirestatscollector-cs-LC90" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">HangfireStatsWrapper</span></td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="file-hangfirestatscollector-cs-LC91" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="file-hangfirestatscollector-cs-LC92" class="blob-code blob-code-inner js-file-line">        [<span class="pl-en">JsonProperty</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>enqueued:count-or-null<span class="pl-pds">&quot;</span></span>)]</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="file-hangfirestatscollector-cs-LC93" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">public</span> <span class="pl-en">HangfireStat</span> <span class="pl-smi">Enqueued</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="file-hangfirestatscollector-cs-LC94" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="file-hangfirestatscollector-cs-LC95" class="blob-code blob-code-inner js-file-line">        [<span class="pl-en">JsonProperty</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>retries:count<span class="pl-pds">&quot;</span></span>)]</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="file-hangfirestatscollector-cs-LC96" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">public</span> <span class="pl-en">HangfireStat</span> <span class="pl-smi">Retries</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="file-hangfirestatscollector-cs-LC97" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="file-hangfirestatscollector-cs-LC98" class="blob-code blob-code-inner js-file-line">        [<span class="pl-en">JsonProperty</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>recurring:count<span class="pl-pds">&quot;</span></span>)]</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="file-hangfirestatscollector-cs-LC99" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">public</span> <span class="pl-en">HangfireStat</span> <span class="pl-smi">Recurring</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="file-hangfirestatscollector-cs-LC100" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L101" class="blob-num js-line-number" data-line-number="101"></td>
        <td id="file-hangfirestatscollector-cs-LC101" class="blob-code blob-code-inner js-file-line">        [<span class="pl-en">JsonProperty</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>servers:count<span class="pl-pds">&quot;</span></span>)]</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L102" class="blob-num js-line-number" data-line-number="102"></td>
        <td id="file-hangfirestatscollector-cs-LC102" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">public</span> <span class="pl-en">HangfireStat</span> <span class="pl-smi">Servers</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L103" class="blob-num js-line-number" data-line-number="103"></td>
        <td id="file-hangfirestatscollector-cs-LC103" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L104" class="blob-num js-line-number" data-line-number="104"></td>
        <td id="file-hangfirestatscollector-cs-LC104" class="blob-code blob-code-inner js-file-line">        [<span class="pl-en">JsonProperty</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>succeeded:count<span class="pl-pds">&quot;</span></span>)]</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L105" class="blob-num js-line-number" data-line-number="105"></td>
        <td id="file-hangfirestatscollector-cs-LC105" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">public</span> <span class="pl-en">HangfireStat</span> <span class="pl-smi">Succeeded</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L106" class="blob-num js-line-number" data-line-number="106"></td>
        <td id="file-hangfirestatscollector-cs-LC106" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L107" class="blob-num js-line-number" data-line-number="107"></td>
        <td id="file-hangfirestatscollector-cs-LC107" class="blob-code blob-code-inner js-file-line">        [<span class="pl-en">JsonProperty</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>failed:count<span class="pl-pds">&quot;</span></span>)]</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L108" class="blob-num js-line-number" data-line-number="108"></td>
        <td id="file-hangfirestatscollector-cs-LC108" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">public</span> <span class="pl-en">HangfireStat</span> <span class="pl-smi">Failed</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L109" class="blob-num js-line-number" data-line-number="109"></td>
        <td id="file-hangfirestatscollector-cs-LC109" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L110" class="blob-num js-line-number" data-line-number="110"></td>
        <td id="file-hangfirestatscollector-cs-LC110" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L111" class="blob-num js-line-number" data-line-number="111"></td>
        <td id="file-hangfirestatscollector-cs-LC111" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">public</span> <span class="pl-k">class</span> <span class="pl-en">HangfireStat</span></td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L112" class="blob-num js-line-number" data-line-number="112"></td>
        <td id="file-hangfirestatscollector-cs-LC112" class="blob-code blob-code-inner js-file-line">    {</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L113" class="blob-num js-line-number" data-line-number="113"></td>
        <td id="file-hangfirestatscollector-cs-LC113" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">public</span> <span class="pl-k">string</span> <span class="pl-smi">Value</span> { <span class="pl-k">get</span>; <span class="pl-k">set</span>; }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L114" class="blob-num js-line-number" data-line-number="114"></td>
        <td id="file-hangfirestatscollector-cs-LC114" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L115" class="blob-num js-line-number" data-line-number="115"></td>
        <td id="file-hangfirestatscollector-cs-LC115" class="blob-code blob-code-inner js-file-line">        [<span class="pl-en">JsonIgnore</span>]</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L116" class="blob-num js-line-number" data-line-number="116"></td>
        <td id="file-hangfirestatscollector-cs-LC116" class="blob-code blob-code-inner js-file-line">        <span class="pl-k">public</span> <span class="pl-k">int</span>? <span class="pl-smi">ValueInt</span></td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L117" class="blob-num js-line-number" data-line-number="117"></td>
        <td id="file-hangfirestatscollector-cs-LC117" class="blob-code blob-code-inner js-file-line">        {</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L118" class="blob-num js-line-number" data-line-number="118"></td>
        <td id="file-hangfirestatscollector-cs-LC118" class="blob-code blob-code-inner js-file-line">            <span class="pl-k">get</span></td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L119" class="blob-num js-line-number" data-line-number="119"></td>
        <td id="file-hangfirestatscollector-cs-LC119" class="blob-code blob-code-inner js-file-line">            {</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L120" class="blob-num js-line-number" data-line-number="120"></td>
        <td id="file-hangfirestatscollector-cs-LC120" class="blob-code blob-code-inner js-file-line">                <span class="pl-k">if</span> (<span class="pl-smi">int</span>.<span class="pl-en">TryParse</span>(<span class="pl-smi">Value</span>, <span class="pl-smi">NumberStyles</span>.<span class="pl-smi">AllowThousands</span>, <span class="pl-smi">CultureInfo</span>.<span class="pl-smi">InvariantCulture</span>, <span class="pl-k">out</span> <span class="pl-k">var</span> <span class="pl-smi">valueResult</span>))</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L121" class="blob-num js-line-number" data-line-number="121"></td>
        <td id="file-hangfirestatscollector-cs-LC121" class="blob-code blob-code-inner js-file-line">                {</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L122" class="blob-num js-line-number" data-line-number="122"></td>
        <td id="file-hangfirestatscollector-cs-LC122" class="blob-code blob-code-inner js-file-line">                    <span class="pl-k">return</span> <span class="pl-smi">valueResult</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L123" class="blob-num js-line-number" data-line-number="123"></td>
        <td id="file-hangfirestatscollector-cs-LC123" class="blob-code blob-code-inner js-file-line">                }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L124" class="blob-num js-line-number" data-line-number="124"></td>
        <td id="file-hangfirestatscollector-cs-LC124" class="blob-code blob-code-inner js-file-line">                <span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L125" class="blob-num js-line-number" data-line-number="125"></td>
        <td id="file-hangfirestatscollector-cs-LC125" class="blob-code blob-code-inner js-file-line">                {</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L126" class="blob-num js-line-number" data-line-number="126"></td>
        <td id="file-hangfirestatscollector-cs-LC126" class="blob-code blob-code-inner js-file-line">                    <span class="pl-k">return</span> <span class="pl-c1">null</span>;</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L127" class="blob-num js-line-number" data-line-number="127"></td>
        <td id="file-hangfirestatscollector-cs-LC127" class="blob-code blob-code-inner js-file-line">                }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L128" class="blob-num js-line-number" data-line-number="128"></td>
        <td id="file-hangfirestatscollector-cs-LC128" class="blob-code blob-code-inner js-file-line">            }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L129" class="blob-num js-line-number" data-line-number="129"></td>
        <td id="file-hangfirestatscollector-cs-LC129" class="blob-code blob-code-inner js-file-line">        }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L130" class="blob-num js-line-number" data-line-number="130"></td>
        <td id="file-hangfirestatscollector-cs-LC130" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-hangfirestatscollector-cs-L131" class="blob-num js-line-number" data-line-number="131"></td>
        <td id="file-hangfirestatscollector-cs-LC131" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="https://gist.github.com/tonesandtones/8f45ab89e90d4474b108a35898a0d636/raw/bdd7fe6a3f2fa9529f99ef8c0ebe5f07f9ee981a/HangfireStatsCollector.cs" style="float:right">view raw</a>
        <a href="https://gist.github.com/tonesandtones/8f45ab89e90d4474b108a35898a0d636#file-hangfirestatscollector-cs">HangfireStatsCollector.cs</a>
        hosted with &#10084; by <a href="https://github.com">GitHub</a>
      </div>
    </div>
</div></p></div><footer><div>Loading...</div><div class="jsx-646394116 author"><div class="jsx-646394116 avatar"><img src="/static/avatar-1e6131826211961d584792171e4f1121.jpg" alt="Anthony Attwood - Punny Blog" class="jsx-646394116"/></div><div class="jsx-646394116 note"><p><strong>Anthony Attwood</strong> I’m a consultant software engineer living and working in Perth, Australia, building solutions that solve real problems for customers.</p></div></div><div class="jsx-126278577 links"><a href="/what-is-this-beautiful-new-blog/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"></path></svg><h4 class="jsx-126278577">What is this beautiful new blog?<!-- --> <time class="jsx-126278577">2019-10-11<!-- --> </time></h4></a></div></footer></article></main><footer class="jsx-2880174640 footer"><ul>
<li>I work for <a href="https://purple.telstra.com">Telstra Purple</a></li>
<li>Hosted by <a href="https://pages.github.com/">Github Pages</a></li>
<li>Powered by <a href="https://www.gatsbyjs.org/">GatsbyJS</a></li>
<li>Photos from <a href="https://unsplash.com/">Unsplash</a></li>
</ul></footer></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'undefined', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/visualising-hangfire-job-stats-in-powerbi/";window.webpackCompilationHash="676d32c12198de6d7afe";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-1e1babc26f286c18c6f3.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-e722c0af9a6f821f932a.js"],"component---src-templates-category-template-js":["/component---src-templates-category-template-js-e0bb4db8e52ebc427d86.js"],"component---src-templates-post-template-js":["/component---src-templates-post-template-js-48724be4b07ab3351423.js"],"component---src-templates-page-template-js":["/component---src-templates-page-template-js-6e4ad2b36923b1c93cda.js"],"component---src-pages-404-js":["/component---src-pages-404-js-c5a788d5573b956e885f.js"],"component---src-pages-category-js":["/component---src-pages-category-js-a30cb7955208c1cb96af.js"],"component---src-pages-index-js":["/component---src-pages-index-js-f76074234030ec25b567.js"],"component---src-pages-search-js":["/component---src-pages-search-js-86744d15df69b3f0a459.js"]};/*]]>*/</script><script src="/component---src-templates-post-template-js-48724be4b07ab3351423.js" async=""></script><script src="/styles-9fcd3eb13f695005ac07.js" async=""></script><script src="/commons-e2b9e4157a7531f6338b.js" async=""></script><script src="/app-1e1babc26f286c18c6f3.js" async=""></script><script src="/webpack-runtime-8e4f872f53c8fce41965.js" async=""></script></body></html>