<!DOCTYPE html><html lang="en" prefix="og: http://ogp.me/ns#"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.57b5bc196a71aeb7d3d7.css">@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:300;src:local("Open Sans Light "),local("Open Sans-Light"),url(/static/open-sans-latin-300-60c866748ff15f5b347fdba64596b1b1.woff2) format("woff2"),url(/static/open-sans-latin-300-521d17bc9f3526c690e8ada6eee55bec.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:300;src:local("Open Sans Light italic"),local("Open Sans-Lightitalic"),url(/static/open-sans-latin-300italic-06bbd3188b34820cd83a0e0b3d0a6f57.woff2) format("woff2"),url(/static/open-sans-latin-300italic-8a648ff38ded89ea15916e84529d62d3.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:400;src:local("Open Sans Regular "),local("Open Sans-Regular"),url(/static/open-sans-latin-400-cffb686d7d2f4682df8342bd4d276e09.woff2) format("woff2"),url(/static/open-sans-latin-400-bf2d0783515b7d75c35bde69e01b3135.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:400;src:local("Open Sans Regular italic"),local("Open Sans-Regularitalic"),url(/static/open-sans-latin-400italic-987032ea5d57c93d8da215678eae3b86.woff2) format("woff2"),url(/static/open-sans-latin-400italic-db70d0b9cb27ada1a260a2b35e756b8b.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:600;src:local("Open Sans SemiBold "),local("Open Sans-SemiBold"),url(/static/open-sans-latin-600-223a277bd88d8a90c8cdf24cda0ad5f5.woff2) format("woff2"),url(/static/open-sans-latin-600-1cd5320f8937d337b61d5117cf9d7b28.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:600;src:local("Open Sans SemiBold italic"),local("Open Sans-SemiBolditalic"),url(/static/open-sans-latin-600italic-4950a7205f0b5cefe41fc03ac346e236.woff2) format("woff2"),url(/static/open-sans-latin-600italic-318ea1ada4102c0704a0637228dcad03.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:700;src:local("Open Sans Bold "),local("Open Sans-Bold"),url(/static/open-sans-latin-700-d08c09f2f169f4a6edbcf8b8d1636cb4.woff2) format("woff2"),url(/static/open-sans-latin-700-623e3205570002af47fc2b88f9335d19.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:700;src:local("Open Sans Bold italic"),local("Open Sans-Bolditalic"),url(/static/open-sans-latin-700italic-c02f5da6e82e1efe0b45841bfd49ce37.woff2) format("woff2"),url(/static/open-sans-latin-700italic-72e19cbb0e38c6773a7751156752cec4.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:800;src:local("Open Sans ExtraBold "),local("Open Sans-ExtraBold"),url(/static/open-sans-latin-800-aaeffaf205b9bbb09920089a14dbe9e8.woff2) format("woff2"),url(/static/open-sans-latin-800-c6aa0c4a601fb6ac66f8253fa594dff5.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:800;src:local("Open Sans ExtraBold italic"),local("Open Sans-ExtraBolditalic"),url(/static/open-sans-latin-800italic-6b3973ffe02bb6a8be0f8453506ec032.woff2) format("woff2"),url(/static/open-sans-latin-800italic-79b58175343190550489efe46a7f1138.woff) format("woff")}code[class*=language-],pre[class*=language-]{color:#000;text-shadow:0 1px #fff}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}.token.punctuation{color:#999}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.15.28"/><style id="__jsx-4192424678">.item.jsx-4192424678,.showItem.jsx-4192424678{background:transparent;-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.item.jsx-4192424678 a,.showItem.jsx-4192424678 a{padding:10px;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.item.jsx-4192424678 svg,.showItem.jsx-4192424678 svg{margin:0 5px 0 0;opacity:0.3;}
.itemList .hideItem{display:none;}
@media screen and (min-width:1024px){.item.jsx-4192424678 a{color:#3e3e3c;padding:10px;-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;border-radius:5px;}.homepage:not(.fixed) .item.jsx-4192424678 a{color:#ffffff;}.item.jsx-4192424678 a:hover{color:#709425;background:rgba(255,255,255,0.4);}.item.jsx-4192424678 svg{-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;}.item.jsx-4192424678:hover svg{fill:#709425;opacity:1;}.hero .item.jsx-4192424678:hover svg svg{fill:green;}.showItem.jsx-4192424678{display:none;}.hiddenItem.jsx-4192424678{text-align:left;padding:5px;}.hiddenItem.jsx-4192424678 a.inHiddenItem{color:#3e3e3c;}.hiddenItem.jsx-4192424678 a.inHiddenItem:hover{color:#709425;}}</style><style id="__jsx-1665230755">.menu.jsx-1665230755{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#ffffff;bottom:0;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;left:0;max-height:50px;padding:0 10px;position:fixed;width:100%;z-index:1;-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;}
.itemList.jsx-1665230755{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;list-style:none;margin:0;padding:0;position:relative;width:100%;}
@media screen and (max-width:1023px){.menu.jsx-1665230755::after{position:absolute;content:"";left:20px;right:20px;top:0;height:1px;background:#709425;}.menu.open.jsx-1665230755{padding:20px;}.homepage:not(.fixed) .menu.jsx-1665230755{bottom:-100px;}}
@media screen and (min-width:1024px){.menu.jsx-1665230755{border-top:none;background:transparent;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding-left:50px;-webkit-transition:none;-webkit-transition:none;transition:none;}.itemList.jsx-1665230755{-webkit-box-pack:end;-ms-flex-pack:end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding:0;}.hiddenItemList.jsx-1665230755{list-style:none;margin:0;position:absolute;background:#ffffff;border:1px solid #ecebea;top:48px;right:10px;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;padding:20px;border-radius:5px;border-top-right-radius:0;}.hiddenItemList.jsx-1665230755:after{content:"";background:#ffffff;z-index:10;top:-10px;right:-1px;width:44px;height:10px;position:absolute;border-left:1px solid #ecebea;border-right:1px solid #ecebea;}.homepage:not(.fixed) .hiddenItemList.jsx-1665230755{border:1px solid transparent;background:rgba(255,255,255,0.9);top:50px;}.homepage:not(.fixed) .hiddenItemList.jsx-1665230755:after{top:-11px;border-left:1px solid transparent;border-right:1px solid transparent;background:rgba(255,255,255,0.9);}.fixed .hiddenItemList.jsx-1665230755{top:44px;}}</style><style id="__jsx-3380372682">.header.jsx-3380372682{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#ffffff;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:80px;position:relative;top:0;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.header.jsx-3380372682 a.logoType{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:"column";-webkit-flex-direction:"column";-ms-flex-direction:"column";flex-direction:"column";color:#3e3e3c;}
.header.jsx-3380372682 a.logoType .logo.jsx-3380372682{-ms-flex-negative:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}
.header.homepage.jsx-3380372682{position:absolute;background-color:transparent;height:100px;;}
h1.jsx-3380372682{font-size:1.22em;font-weight:400;margin:0 0 5px 0;}
h2.jsx-3380372682{font-weight:400;font-size:.72em;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;margin:0;}
.logo.jsx-3380372682{border-radius:65% 75%;border:1px solid #eee;display:inline-block;height:44px;margin:0 20px 0 0;overflow:hidden;width:44px;-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;}
.homepage.jsx-3380372682 .logo.jsx-3380372682{height:60px;width:60px;}
.logo.jsx-3380372682 img.jsx-3380372682{width:100%;}
.sensor.jsx-3380372682{display:block;position:absolute;bottom:0;z-index:1;left:0;right:0;height:1px;top:80px;}
@media screen and (min-width:600px){.header.jsx-3380372682{padding:40px;}.header.homepage.jsx-3380372682{height:100px;;}}
@media screen and (max-width:1023px){.header.homepage.jsx-3380372682 .logo.jsx-3380372682{border:none;}.header.homepage.jsx-3380372682 a.logoType,.header.homepage.jsx-3380372682 h1.jsx-3380372682{color:#ffffff;}.header.homepage.jsx-3380372682 h2.jsx-3380372682{color:#dddbda;}}
@media screen and (min-width:1024px){.header.jsx-3380372682{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#ffffff;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:absolute;top:0;width:100%;-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-transition:padding 0.5s;-webkit-transition:padding 0.5s;transition:padding 0.5s;}.header.fixed.jsx-3380372682{height:50px;;background-color:#ffffff;left:0;padding:0 20px;position:fixed;top:0;width:100%;z-index:1;}.header.fixed.jsx-3380372682 h1.jsx-3380372682{margin:0 0 2px 0;}.header.fixed.jsx-3380372682 h2.jsx-3380372682{display:none;}.header.homepage.jsx-3380372682:not(.fixed) a.logoType,.header.homepage.jsx-3380372682:not(.fixed) h1.jsx-3380372682{color:#ffffff;}.header.homepage.jsx-3380372682:not(.fixed) h2.jsx-3380372682{color:#dddbda;}.header.jsx-3380372682 a.logoType{text-align:left;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-ms-flex-negative:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:auto;}.logo.jsx-3380372682{margin:0 20px 0 0;}.fixed.jsx-3380372682 .logo.jsx-3380372682{height:36px;width:36px;}.header.homepage.jsx-3380372682:not(.fixed) .logo.jsx-3380372682{border:none;}h2.jsx-3380372682{-webkit-animation-duration:0.5s;-webkit-animation-duration:0.5s;animation-duration:0.5s;-webkit-animation-name:h2Entry;-webkit-animation-name:h2Entry-jsx-3380372682;animation-name:h2Entry-jsx-3380372682;}@-webkit-keyframes h2Entry{from.jsx-3380372682{opacity:0;}to.jsx-3380372682{opacity:1;}}@-webkit-keyframes h2Entry-jsx-3380372682{from{opacity:0;}to{opacity:1;}}@keyframes h2Entry-jsx-3380372682{from{opacity:0;}to{opacity:1;}}}</style><style id="__jsx-3317733201">h1.jsx-3317733201{font-size:1.98em;margin:0 0 40px 0;-webkit-animation-name:headlineEntry;-webkit-animation-name:headlineEntry-jsx-3317733201;animation-name:headlineEntry-jsx-3317733201;-webkit-animation-duration:1s;-webkit-animation-duration:1s;animation-duration:1s;}
h1.jsx-3317733201 span{font-weight:400;display:block;font-size:0.5em;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;margin:0 0 5px 0;}
h1.jsx-3317733201 svg{height:0.75em;fill:#709425;}
@-webkit-keyframes headlineEntry{from.jsx-3317733201{opacity:0.5;}to.jsx-3317733201{opacity:1;}}
@-webkit-keyframes headlineEntry-jsx-3317733201{from{opacity:0.5;}to{opacity:1;}}
@keyframes headlineEntry-jsx-3317733201{from{opacity:0.5;}to{opacity:1;}}
@media screen and (min-width:600px){h1.jsx-3317733201{font-size:calc(1.8em * 1.2);}}
@media screen and (min-width:1024px){h1.jsx-3317733201{font-size:calc(1.8em * 1.4);}}</style><style id="__jsx-2703193364">.meta.jsx-2703193364{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;font-size:0.8em;margin:20px 0;background:transparent;}
.meta.jsx-2703193364 svg{fill:#709425;margin:0 5px 0 0;}
.meta.jsx-2703193364 span.jsx-2703193364{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;text-transform:uppercase;margin:5px 10px 5px 0;}
@media screen and (min-width:600px){.meta.jsx-2703193364{margin:calc(20px * 1.5) 0 20px;}}</style><style id="__jsx-2950057177">.bodytext.jsx-2950057177{-webkit-animation-name:bodytextEntry;-webkit-animation-name:bodytextEntry-jsx-2950057177;animation-name:bodytextEntry-jsx-2950057177;-webkit-animation-duration:1s;-webkit-animation-duration:1s;animation-duration:1s;}
.bodytext.jsx-2950057177 h2,.bodytext.jsx-2950057177 h3{margin:1.5em 0 1em;}
.bodytext.jsx-2950057177 h2{line-height:1.2;font-size:1.53em;}
.bodytext.jsx-2950057177 h3{font-size:1.22em;line-height:1.3;}
.bodytext.jsx-2950057177 blockquote{font-style:italic;font-size:1.22em;margin:0 2em;}
.bodytext.jsx-2950057177 p{font-size:1em;line-height:1.6;margin:0 0 1.5em;}
.bodytext.jsx-2950057177 ul{list-style:circle;padding:0 0 0 2em;}
.bodytext.jsx-2950057177 ol{padding:0 0 0 2em;}
.bodytext.jsx-2950057177 li{margin:0.7em 0;line-height:1.5;}
.bodytext.jsx-2950057177 a{font-weight:600;color:#709425;-webkit-text-decoration:underline;text-decoration:underline;}
.bodytext.jsx-2950057177 a.gatsby-resp-image-link{border:0;display:block;margin:1.5em 0 0.5em 0;border-radius:10px;overflow:hidden;border:1px solid #ecebea;}
.bodytext.jsx-2950057177 span.caption{font-size:.86em;font-style:italic;display:table;margin:0 auto;}
@-webkit-keyframes bodytextEntry{from.jsx-2950057177{opacity:0;}to.jsx-2950057177{opacity:1;}}
@-webkit-keyframes bodytextEntry-jsx-2950057177{from{opacity:0;}to{opacity:1;}}
@keyframes bodytextEntry-jsx-2950057177{from{opacity:0;}to{opacity:1;}}</style><style id="__jsx-646394116">.author.jsx-646394116{margin:40px 0;padding:40px 0;border-top:1px solid #ecebea;border-bottom:1px solid #ecebea;}
.avatar.jsx-646394116{float:left;border-radius:65% 75%;border:1px solid #ecebea;display:inline-block;height:50px;margin:5px 20px 0 0;overflow:hidden;width:50px;}
.avatar.jsx-646394116 img.jsx-646394116{width:100%;}
.note.jsx-646394116{font-size:0.9em;line-height:1.6;}
@media screen and (min-width:600px){.author.jsx-646394116{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.avatar.jsx-646394116{-webkit-box-flex:0;-ms-flex:0 0 auto;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}}</style><style id="__jsx-126278577">.links.jsx-126278577{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:0 20px 40px;border-bottom:1px solid #ecebea;margin:0 0 40px 0;}
.links.jsx-126278577 a{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}
.links.jsx-126278577 a:nth-child(2){margin:20px 0 0;}
.links.jsx-126278577 svg{fill:orange;width:20px;height:20px;-ms-flex-negative:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-flex:0;-ms-flex-positive:0;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;margin:0 20px 0 0;}
h4.jsx-126278577{font-weight:600;margin:0;font-size:1.1em;}
time.jsx-126278577{color:#969492;display:block;font-weight:400;font-size:0.8em;margin-top:0.5em;}
@media screen and (min-width:1024px){.links.jsx-126278577{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.links.jsx-126278577 a{-ms-flex-preferred-size:50%;-webkit-flex-basis:50%;-ms-flex-preferred-size:50%;flex-basis:50%;}.links.jsx-126278577 a:nth-child(2){margin:0;}.links.jsx-126278577 svg{-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;margin:0 10px 0 0;}@media (hover:hover){.links.jsx-126278577 a:hover svg{-webkit-transform:scale(1.5);-webkit-transform:scale(1.5);-ms-transform:scale(1.5);transform:scale(1.5);}}}</style><style id="__jsx-4024790327">.article.jsx-4024790327{padding:20px;margin:0 auto;}
@media screen and (min-width:600px){.article.jsx-4024790327{padding:calc(20px) calc(20px * 2);max-width:650px;}}
@media screen and (min-width:1024px){.article.jsx-4024790327{padding:calc(20px * 2 + 90px) 0 calc(20px * 2);max-width:700px;}}</style><style id="__jsx-2880174640">.footer.jsx-2880174640{background:#ffffff;padding:20px;padding-top:0;padding-bottom:120px;}
.footer.jsx-2880174640 ul{list-style:none;text-align:center;padding:0;}
.footer.jsx-2880174640 ul li{color:#969492;font-size:.72em;padding:2px 10px;position:relative;display:inline-block;}
.footer.jsx-2880174640 ul li::after{content:"â€¢";position:absolute;right:calc(5px * -1);}
.footer.jsx-2880174640 ul li:last-child::after{content:"";}
@media screen and (min-width:1024px){.footer.jsx-2880174640{padding:0 1em 1.5em;}}</style><style id="__jsx-3017011455">main.jsx-3017011455{min-height:80vh;}</style><style id="__jsx-3148707342">html{-webkit-box-sizing:border-box;box-sizing:border-box;}
*,*:after,*:before{-webkit-box-sizing:inherit;box-sizing:inherit;margin:0;padding:0;}
body{font-family:Arial, sans-serif;;}
h1,h2,h3{font-weight:400;line-height:1.1;-webkit-letter-spacing:-0.03em;-moz-letter-spacing:-0.03em;-ms-letter-spacing:-0.03em;letter-spacing:-0.03em;margin:0;}
h1{-webkit-letter-spacing:-0.04em;-moz-letter-spacing:-0.04em;-ms-letter-spacing:-0.04em;letter-spacing:-0.04em;}
p{margin:0;}
strong{font-weight:400;}
a{-webkit-text-decoration:none;text-decoration:none;color:#666;}
main{width:auto;display:block;}</style><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"/><title data-react-helmet="true">Deploying Azure App Service Regional VNet Integration with ARM - Punny Stuff</title><meta data-react-helmet="true" name="description" content="Punny Stuff - Anthony Attwood"/><meta data-react-helmet="true" property="og:url" content="https://tonesandtones.github.io/regional-vnet-integration-arm/"/><meta data-react-helmet="true" property="og:title" content="Deploying Azure App Service Regional VNet Integration with ARM - Punny Stuff"/><meta data-react-helmet="true" property="og:description" content="Punny Stuff - Anthony Attwood"/><meta data-react-helmet="true" property="og:image" content="https://tonesandtones.github.io/static/75c23bee92f93606af412b4d049f617d/c83a6/markus-winkler-aYPtEknQmXE-unsplash.jpg"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="fb:app_id" content=""/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="@tonesattwood"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#666"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png"/><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-8a601f49184294acf469.js"/><link as="script" rel="preload" href="/app-2a06152bbac6c4bb9a67.js"/><link as="script" rel="preload" href="/commons-9b45f72b2f89d07f1cba.js"/><link as="script" rel="preload" href="/styles-33495a491149d9f5003f.js"/><link as="script" rel="preload" href="/component---src-templates-post-template-js-8eca374955620c4066f9.js"/><link as="fetch" rel="preload" href="/page-data/regional-vnet-integration-arm/page-data.json" crossorigin="anonymous"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#D0E0D8"/><meta name="apple-mobile-web-app-title" content="Lazywill"/><link rel="apple-touch-icon" href="/icons/apple-icon-57x57.png" sizes="57x57"/><link rel="apple-touch-icon" href="/icons/apple-icon-60x60.png" sizes="60x60"/><link rel="apple-touch-icon" href="/icons/apple-icon-72x72.png" sizes="72x72"/><link rel="apple-touch-icon" href="/icons/apple-icon-76x76.png" sizes="76x76"/><link rel="apple-touch-icon" href="/icons/apple-icon-114x114.png" sizes="114x114"/><link rel="apple-touch-icon" href="/icons/apple-icon-120x120.png" sizes="120x120"/><link rel="apple-touch-icon" href="/icons/apple-icon-144x144.png" sizes="144x144"/><link rel="apple-touch-icon" href="/icons/apple-icon-152x152.png" sizes="152x152"/><link rel="apple-touch-icon" href="/icons/apple-icon-180x180.png" sizes="180x180"/><link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><header class="jsx-3380372682 header  "><a class="logoType" href="/"><div class="jsx-3380372682 logo"><img src="/static/avatar-1e6131826211961d584792171e4f1121.jpg" alt="Punny Stuff by Tones" class="jsx-3380372682"/></div><div class="jsx-3380372682 type"><h1 class="jsx-3380372682">Anthony Attwood</h1><h2 class="jsx-3380372682">Punny Stuff</h2></div></a><nav rel="js-menu" class="jsx-1665230755 menu "><ul class="jsx-1665230755 itemList"><li class="jsx-4192424678 item"><a class="" data-slug="/" href="/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path></svg> <!-- -->Home</a></li><li class="jsx-4192424678 item"><a class="" data-slug="/category/" href="/category/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"></path></svg> <!-- -->Categories</a></li><li class="jsx-4192424678 item"><a class="" data-slug="/search/" href="/search/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg> <!-- -->Search</a></li><li class="jsx-4192424678 item"><a class="" data-slug="/about/" href="/about/"> <!-- -->About</a></li></ul></nav></header><div class="jsx-3380372682 sensor"></div><main class="jsx-3017011455 jsx-3148707342"><article class="jsx-4024790327 article"><header><h1 class="jsx-3317733201">Deploying Azure App Service Regional VNet Integration with ARM</h1><p class="jsx-2703193364 meta"><span class="jsx-2703193364"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" size="18" height="18" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"></path></svg> <!-- -->2020-06-29</span><span class="jsx-2703193364"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" size="18" height="18" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"></path></svg> <!-- -->Anthony Attwood</span><span class="jsx-2703193364"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" size="18" height="18" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"></path></svg><a href="/category/azure">azure</a></span></p></header><div class="jsx-2950057177 bodytext"><p>Azure App Service has a networking feature called VNet Integration, which allows outbound traffic from your App Service app to be pushed into a private VNet rather than go directly to the public internet. This can be really useful if you need to reach resources or servers inside a VNet, or over an ExpressRoute connection to on-premises, or send all outbound traffic via an egress controller on your security perimeter, or â€¦ etc etc.</p>
<p>The docs are really quite good at explaining the feature and when/where/why/how you use it. <a href="https://docs.microsoft.com/en-us/azure/app-service/web-sites-integrate-with-vnet">https://docs.microsoft.com/en-us/azure/app-service/web-sites-integrate-with-vnet</a></p>
<p>There are two distinct flavours of VNet Integration, <a href="https://docs.microsoft.com/en-us/azure/app-service/web-sites-integrate-with-vnet#regional-vnet-integration">Regional</a> and <a href="https://docs.microsoft.com/en-us/azure/app-service/web-sites-integrate-with-vnet#gateway-required-vnet-integration">Gateway-Required</a>. Gateway-Required has been around for a while and uses a point-to-site VPN to get traffic into your VNet. Regional is much newer and simpler to use, and is what this post is about.</p>
<h2>Also Known As - AKA:</h2>
<p>There have been a variety of terms attached to the Regional VNet Integration feature throughout its development and release, and you sometimes see them in documentation and APIs, you might see some of them in your travels. They all refer in some way to Regional VNet Integration as opposed to Gateway-Required:</p>
<ul>
<li>Swift - this one comes up in the REST API methods and payloads, and in ARM templates.</li>
<li>New VNet - common in blog posts and articles from 2018 to late 2019, when Regional was still in preview or only just GA.</li>
<li>VNet Injection - the docs sometimes refer to vnet injection without defining the term.</li>
</ul>
<h2>How <em>NOT</em> to deploy Regional VNet Integration</h2>
<p>If, like me, you go to the ARM reference documentation and look under <a href="https://docs.microsoft.com/en-us/azure/templates/microsoft.web/allversions">Microsoft.Web</a>, youâ€™ll see <code class="language-text">sites/virtualNetworkConnections</code> and <code class="language-text">sites/slots/virtualNetworkConnections</code>.</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/6a483cc2b3e7deafaeadf633495dfc0a/9bac8/arm-docs-virtualnetworkconnections.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 75.74421168687982%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACAklEQVQ4y3VTW8+TUBD8/v9fMTHGV40++axPjV/TqkkrBdpyP3fOGXe3FGjVQ4YFAsPszJ4X0DLWw1qLcRwRYxTIc2PQdR26oYO2CvNKU5nqqTHICLxe+GStQ9/38N7TS0lqHOPysSYQX+wTkiPwkW5g1kY5VIOT+4nQIssytG0rHHdC40nhsYd7l254kzBukvwlxYmQVj3cCGeFgQjquplbFUK+TvLpJDMtvUq7C2HRGuTS8krh+XyeX7grdKODLg38J7LhM+ED+frqYIJZFBJ6Ewh+aTmEgKqqoLV+UBhigOvoeg+MO/JwC7giwHorgdz1Sij1KhTvHPI8R5EXEhD/YIy3xLkGOhLi1P5jy4xOe7R6pZAVNU0jCueUiYyt6LseqleIgTyNK+/SMjbnzqIkrMbGSigDjQ7PniikmVyvhMdxWUJJuPRWSLF46FEUJZy7RR88tZhIobLQH8mz9wnmLYX0Jf5FyoT/bLksyzkUrqxSLOPRrAkVYcCTh1Mo9VMoPIc8NgUFw6Gwn2yDJ9K9O+G7P2LjD/jlChhtxN+1SmWfxoZbZUIeHfZuUIOodt5hMxzwTf3EV/UD2+EIrfS8AdZ7+bTey0IyDHMYz4H8b633cq2mvZyda/wuKxzyi9SqqrF93WK320vrNeFyvUq9Xit61srPGdwZW8TdsG18/wfnw5MV23HiHQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="ARM reference docs - Microsoft.Web/sites/virtualNetworkConnections"
        title=""
        src="/static/6a483cc2b3e7deafaeadf633495dfc0a/8ff1e/arm-docs-virtualnetworkconnections.png"
        srcset="/static/6a483cc2b3e7deafaeadf633495dfc0a/9ec3c/arm-docs-virtualnetworkconnections.png 200w,
/static/6a483cc2b3e7deafaeadf633495dfc0a/c7805/arm-docs-virtualnetworkconnections.png 400w,
/static/6a483cc2b3e7deafaeadf633495dfc0a/8ff1e/arm-docs-virtualnetworkconnections.png 800w,
/static/6a483cc2b3e7deafaeadf633495dfc0a/9bac8/arm-docs-virtualnetworkconnections.png 907w"
        sizes="(max-width: 800px) 100vw, 800px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>This is not the ARM resource type you want! This is for Gateway-Required VNet Integration.</p>
<p align="center">
  <img src="https://media.giphy.com/media/GYeLcrWi5DMqs/giphy.gif" alt="It&apos;s a trap!">
</p>
<p>If you use a <a href="https://docs.microsoft.com/en-us/azure/templates/microsoft.web/2019-08-01/sites/virtualnetworkconnections">Microsoft.Web/sites/virtualNetworkConnections</a> resource type, youâ€™ll configure a Gateway-Required integration. Even if you donâ€™t do it correctly, which I didnâ€™t, ARM wonâ€™t report any issues, and the integration will not work.</p>
<p>A helpful Microsoft support engineer was able to diagnose my problem - that I had (mis)configured a Gateway-Required VNet Integration - and pointed me to the correct way to set it up with ARM.</p>
<h2>The solution</h2>
<p>Stackoverflow to the rescue!</p>
<p><a href="https://stackoverflow.com/questions/54534924/arm-template-for-to-configure-app-services-with-new-vnet-integration-feature/59857601#59857601">https://stackoverflow.com/questions/54534924/arm-template-for-to-configure-app-services-with-new-vnet-integration-feature/59857601#59857601</a></p>
<p>The resource type you want is <code class="language-text">Microsoft.Web/sites/networkConfig</code> (and <code class="language-text">.../sites/slots/...</code> if youâ€™re using them), not <code class="language-text">Microsoft.Web/sites/virtualNetworkConnections</code>.</p>
<div class="gatsby-highlight" data-language="json"><pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"Microsoft.Web/sites/networkConfig"</span><span class="token punctuation">,</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"[concat(parameters('webAppName'),'/VirtualNetwork')]"</span><span class="token punctuation">,</span>
  <span class="token property">"apiVersion"</span><span class="token operator">:</span> <span class="token string">"2016-08-01"</span><span class="token punctuation">,</span>
  <span class="token property">"properties"</span><span class="token operator">:</span>
  <span class="token punctuation">{</span>
    <span class="token property">"subnetResourceId"</span><span class="token operator">:</span> <span class="token string">"[parameters('subnetResourceId')]"</span><span class="token punctuation">,</span>
    <span class="token property">"swiftSupported"</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p><code class="language-text">Microsoft.Web/sites/networkConfig</code> appears to be entirely undocumented in the official ARM docs, but it <strong>does</strong> appear in the ARM schema, which you can <a href="https://github.com/Azure/azure-resource-manager-schemas/blob/ff320d13e002510dc247f13440a3e70fa70ad479/schemas/2018-11-01/Microsoft.Web.json#L1007">find on GitHub</a>. Note the end of the <code class="language-text">name</code> <strong>must</strong> be <code class="language-text">/virtualNetwork</code>, you canâ€™t change it.</p>
<p>Thatâ€™s it for the solution. If youâ€™re interested in knowing how to tell whether the thing youâ€™ve configured is a Gateway-Required or Regional VNet Integration, read on!</p>
<h2>The diagnosis</h2>
<p>Our friend here is the Azure Resource Explorer, <a href="https://resources.azure.com">https://resources.azure.com</a>. If youâ€™ve never seen it, take a moment to explore, itâ€™s a really useful way to see details that are not surfaced in the Azure portal.</p>
<p>Hereâ€™s what to look for to check youâ€™ve set up your Regional VNet Integration correctly.</p>
<p><em>Navigate to the web appâ€™s <code class="language-text">config/virtualNetwork</code> node</em></p>
<p><code class="language-text">Subscriptions --&gt; {subscription} --&gt; resourceGroups --&gt; {resource group} --&gt; providers --&gt; Microsoft.Web --&gt; {web app} --&gt; config --&gt; virtualNetwork</code></p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/fcb8dca0bff3b48fd4b23531b6a825db/b5cbf/arm-vnet-integration-resources-virtualnetwork.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 39.90895295902883%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABlElEQVQY03VQXU/bMBTN3+5f6AtsGpo2VZo2tULQbd1AoEGhwFBB0NBN40NDbVgSEtdO7cRx7Nimodtt33d0deXzcM49xw4XIk1TyrJCqlKVs9lMaz2fzwkhzWaz1WrBbjQaR72e+4cPR5hOCSYkz0UhhGOM0caGiPi+H0WPsCljIM4YS5KEUQp2f/8DB+5UVTV6CLZ2u/uHR3v73SDwmcpCknDOKQRTptRGSolwEiEcTwhdOiqlFpetMUrbiFtpn8FPlbKP3CuWFwIEJEYYYQyCfv/seImB64KX53lLsTWFLB+n0APsVFEUjLLND+92tzeDh+utTxvbX9pv3r6u1Wrt9vphb69erwO9vDx3nmd2XlkI7+GcclU9Wcao4Fk2dCc3F3h0lfz+md5dT6LYD8I4jjGeACAIY6nTcdFiBuizu5iNi/jXGPGMvX/x8uvaq7vTbo69ILw/OPh2fNLtdD6urq6E0Zim8f3o1smlFkpPuQoTwWUJlOeCZelwZyfpfxc/BopRpUslJTSCqgJ+cEHgKf8BdmukswkJ2hkAAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="resources.azure.com web app virtualNetwork node"
        title=""
        src="/static/fcb8dca0bff3b48fd4b23531b6a825db/8ff1e/arm-vnet-integration-resources-virtualnetwork.png"
        srcset="/static/fcb8dca0bff3b48fd4b23531b6a825db/9ec3c/arm-vnet-integration-resources-virtualnetwork.png 200w,
/static/fcb8dca0bff3b48fd4b23531b6a825db/c7805/arm-vnet-integration-resources-virtualnetwork.png 400w,
/static/fcb8dca0bff3b48fd4b23531b6a825db/8ff1e/arm-vnet-integration-resources-virtualnetwork.png 800w,
/static/fcb8dca0bff3b48fd4b23531b6a825db/6ff5e/arm-vnet-integration-resources-virtualnetwork.png 1200w,
/static/fcb8dca0bff3b48fd4b23531b6a825db/b5cbf/arm-vnet-integration-resources-virtualnetwork.png 1318w"
        sizes="(max-width: 800px) 100vw, 800px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>Note the properties you set in the ARM template. Theyâ€™re not exactly the same as in the ARM template, but pretty close:</p>
<ul>
<li><code class="language-text">&quot;name&quot;: &quot;virtualNetwork&quot;</code></li>
<li><code class="language-text">&quot;type&quot;: &quot;Microsoft.Web/sites/config&quot;</code></li>
<li><code class="language-text">&quot;swiftEnabled&quot;: true</code></li>
</ul>
<p><em>Navigate to the web appâ€™s <code class="language-text">site/virtualNetworkConnections</code> node</em></p>
<p><code class="language-text">Subscriptions --&gt; {subscription} --&gt; resourceGroups --&gt; {resource group} --&gt; providers --&gt; Microsoft.Web --&gt; {web app} --&gt; virtualNetworkConnections</code></p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/930f384316a5522a7185dd135594375a/a7ca4/arm-vnet-integration-resources-virtualnetworkconnections.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 50.50038491147036%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAA7CAAAOwgEVKEqAAAACCElEQVQoz1WSW28SQRSA94H6+4zx90hKSNSnJmqthEpMu5AgJSLh0rDBVjQWC0XKZXfDRSnQZWGXndvuzl6AOrQv+mUyDzP5zjlzznAQY8AwGAACYJmmZVnr9ZqdJZNJnufj8fjR8XH6JPWjO/nZ1xbzLQBA0yQcdRzPcwGhowWBJnUdxzTN1WrFgum6zsIhjAkhGCGH0rv/2cqu6wBiTTSsLIllU5Z5iZcGWCKEwENVAI5v1akymy30uW5Q5jgOxngrO64DiT3ViI6Yu81cm9Vm+hQZSGcuhDZ1x1Ol1e52Zfn6uo0Rtm3a6/W5e5cuIRmpECCT2jaT2XW70xHFltRuCMV85uRjIZspZD8VsxlRap1Xyjx/NJ6MueyVUpJAuWd+HVq1CT3rm/KUvRPmYrGz2Nt8PFITUoOr8rBR/vxhP88fxl/sJqMHp0Kx2fzFYdtN50ov997sR94fRKLvDmO//9y4njcbDi7zuV7jwlBkbdz7XioU06mLL8K5UGo1G3NNMYwlx5r2+MlTjuMCgQDbH+3sfKtUVuvVZb0aff1KEE5V/RZiY66pc11VtZkki9VqtV6vDYdDzvHXiVTmWTAYCoWCwWA4HJYlybRtT53fiaIz6FsAsPZQtu7xPZ/9AjZL3/e5jijvhp8nEonNZvMwPTZhiBBRVXIzspSpTbDN2vgP1j0s0F9vz/tHQLcZOQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px transparent;"
        alt="resources.azure.com web app virtualNetworkConnections node"
        title=""
        src="/static/930f384316a5522a7185dd135594375a/8ff1e/arm-vnet-integration-resources-virtualnetworkconnections.png"
        srcset="/static/930f384316a5522a7185dd135594375a/9ec3c/arm-vnet-integration-resources-virtualnetworkconnections.png 200w,
/static/930f384316a5522a7185dd135594375a/c7805/arm-vnet-integration-resources-virtualnetworkconnections.png 400w,
/static/930f384316a5522a7185dd135594375a/8ff1e/arm-vnet-integration-resources-virtualnetworkconnections.png 800w,
/static/930f384316a5522a7185dd135594375a/6ff5e/arm-vnet-integration-resources-virtualnetworkconnections.png 1200w,
/static/930f384316a5522a7185dd135594375a/a7ca4/arm-vnet-integration-resources-virtualnetworkconnections.png 1299w"
        sizes="(max-width: 800px) 100vw, 800px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>Note the value of the <code class="language-text">name</code> property, this is the important bit;</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">&quot;name&quot;: &quot;{guid}_{app-service-plan-name}&quot;</code></pre></div>
<p>Regional VNet Integration will result in the name field derived from the <code class="language-text">resourceGuid</code> of the vnet and the name of the app service plan, <code class="language-text">{guid}_{app-service-plan-name}</code>. If, like me, you used ARM to create a <code class="language-text">virtualNetworkConnections</code> sub-resource (and hence created a Gateway-Required integration by mistake), then the name will not have the <code class="language-text">{guid}_{app-service-plan-name}</code> format but will be whatever you set as the resource name in your ARM template.</p>
<p>Thereâ€™s also the <code class="language-text">isSwift</code> property. If itâ€™s set to true, then it means youâ€™ve set up a Regional VNet Integration like you wanted.</p>
<h2>Summary</h2>
<p>This a bit of a long post, so hereâ€™s a tl-dr;</p>
<ul>
<li>Gateway-Required VNet Integration is configured with the ARM resource <code class="language-text">Microsoft.Web/sites/virtualNetworkConnections</code>. You canâ€™t use this for Regional.</li>
<li>Regional VNet Integration is configured with <code class="language-text">Microsoft.Web/sites/networkConfig</code> (or <code class="language-text">Microsoft.Web/sites/slots/networkConfig</code>)</li>
<li>No itâ€™s not documented in the ARM reference docs ðŸ˜‘</li>
<li>StackOverflow has the answer: <a href="https://stackoverflow.com/a/59857601">https://stackoverflow.com/a/59857601</a></li>
<li>There are clues in the Azure Resource Explorer (<a href="https://resources.azure.com">https://resources.azure.com</a>) if you look carefully</li>
</ul></div><footer><div>Loading...</div><div class="jsx-646394116 author"><div class="jsx-646394116 avatar"><img src="/static/avatar-1e6131826211961d584792171e4f1121.jpg" alt="Punny Stuff by Tones" class="jsx-646394116"/></div><div class="jsx-646394116 note"><p><strong>Anthony Attwood</strong> Iâ€™m a consultant software engineer living and working in Perth, Australia, building solutions that solve real problems for customers.</p></div></div><div class="jsx-126278577 links"><a href="/key-vault-access-policies-with-arm/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"></path></svg><h4 class="jsx-126278577">Azure Key Vault Access Policies with ARM<!-- --> <time class="jsx-126278577">2020-08-26<!-- --> </time></h4></a><a href="/azure-ad-and-the-unvalidatable-access-token/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"></path></svg><h4 class="jsx-126278577">Azure AD and the Un-validatable Access Token<!-- --> <time class="jsx-126278577">2020-02-25</time></h4></a></div></footer></article></main><footer class="jsx-2880174640 footer"><ul>
<li>I work for <a href="https://purple.telstra.com">Telstra Purple</a></li>
<li>Hosted by <a href="https://pages.github.com/">Github Pages</a></li>
<li>Powered by <a href="https://www.gatsbyjs.org/">GatsbyJS</a></li>
<li>Photos from <a href="https://unsplash.com/">Unsplash</a> and <a href="https://pexels.com">Pexels</a></li>
</ul></footer></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'undefined', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/regional-vnet-integration-arm/";window.webpackCompilationHash="65876d4c71c36fb5ed69";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-2a06152bbac6c4bb9a67.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-e722c0af9a6f821f932a.js"],"component---src-templates-category-template-js":["/component---src-templates-category-template-js-e0bb4db8e52ebc427d86.js"],"component---src-templates-post-template-js":["/component---src-templates-post-template-js-8eca374955620c4066f9.js"],"component---src-templates-page-template-js":["/component---src-templates-page-template-js-6e4ad2b36923b1c93cda.js"],"component---src-pages-404-js":["/component---src-pages-404-js-c5a788d5573b956e885f.js"],"component---src-pages-category-js":["/component---src-pages-category-js-a30cb7955208c1cb96af.js"],"component---src-pages-index-js":["/component---src-pages-index-js-3c27c3051e71a327b275.js"],"component---src-pages-search-js":["/component---src-pages-search-js-4c1699a23a59124f56e9.js"]};/*]]>*/</script><script src="/component---src-templates-post-template-js-8eca374955620c4066f9.js" async=""></script><script src="/styles-33495a491149d9f5003f.js" async=""></script><script src="/commons-9b45f72b2f89d07f1cba.js" async=""></script><script src="/app-2a06152bbac6c4bb9a67.js" async=""></script><script src="/webpack-runtime-8a601f49184294acf469.js" async=""></script></body></html>